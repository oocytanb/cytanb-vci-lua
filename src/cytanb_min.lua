-- SPDX-License-Identifier: MIT
-- Copyright (c) 2019 oO (https://github.com/oocytanb)
---@type cytanb @See `cytanb_annotations.lua`
local cytanb=(function()local b=function(_ENV)if not require or not vci then error('Invalid _ENV: Enable `__CYTANB_EXPORT_MODULE = true` line and pass valid _ENV of VCI-main if use cytanb.lua as module.',3)end;local c;local d;local e;local f;local g;local h;local i;local j;local k;local l;local m=false;local n;local o;local a;local p=function(q,r)local s=q+r-1;return q,s,s+1 end;local t=function(q,r)local s=q-r+1;return s,q,s-1 end;local u=function(v,w,x,q,y)local z=x.searchMap;for A,r in pairs(x.lengthList)do if r<=0 then error('SearchPattern: Invalid parameter: searchLen <= 0')else local B,C,s=y(q,r)if B>=1 and C<=w then local D=string.sub(v,B,C)if z[D]then return true,r,s end end end end;return false,-1,-1 end;local E=function(v,x,q,y)if v==nil or x==nil then return false,-1 end;if x.hasEmptySearch then return true,0 end;local w=string.len(v)local F=x.repeatMin;local G=x.repeatMax;local H=G<0;local I=q;local J=0;local K=0;while H or K<G do local L,M,s=u(v,w,x,I,y)if L then if M<=0 then error('SearchPattern: Invalid parameter')end;I=s;J=J+M;K=K+1 else break end end;if K>=F then return true,J else return false,-1 end end;local N=function(v,O,q,P,y,Q)if v==nil or O==nil then return false,-1 end;local r=string.len(O)if P then local L=Q(v,O)return L,L and r or-1 else if r==0 then return true,r end;local w=string.len(v)local B,C=y(q,r)if B>=1 and C<=w then local D=string.sub(v,B,C)local L=Q(D,O)return L,L and r or-1 else return false,-1 end end end;local R=function(v,S,T)if S<=T then local U=string.unicode(v,S,S)if U>=0xDC00 or U<=0xDFFF then return true,1,U end end;return false,-1,nil end;local V=function(v,S,T,W)if S<=T then local X,Y=a.StringStartsWith(v,d,S)if X then local Z=S+Y;if Z<=T then local _,a0=a.StringStartsWith(v,e,Z)if _ then local a1=Z+a0;if a1<=T and string.unicode(v,a1,a1)==0x3E then local a2=tonumber(string.sub(v,Z,Z+a0-1))if a2<=W then return true,a1-S+1,a2 end end end end end end;return false,-1,nil end;local a3=function(a4,a5)for a6=1,4 do local a7=a4[a6]-a5[a6]if a7~=0 then return a7 end end;return 0 end;local a8;a8={__eq=function(a4,a5)return a4[1]==a5[1]and a4[2]==a5[2]and a4[3]==a5[3]and a4[4]==a5[4]end,__lt=function(a4,a5)return a3(a4,a5)<0 end,__le=function(a4,a5)return a3(a4,a5)<=0 end,__tostring=function(a9)local aa=a9[2]or 0;local ab=a9[3]or 0;return string.format('%08x-%04x-%04x-%04x-%04x%08x',bit32.band(a9[1]or 0,0xFFFFFFFF),bit32.band(bit32.rshift(aa,16),0xFFFF),bit32.band(aa,0xFFFF),bit32.band(bit32.rshift(ab,16),0xFFFF),bit32.band(ab,0xFFFF),bit32.band(a9[4]or 0,0xFFFFFFFF))end,__concat=function(a4,a5)local ac=getmetatable(a4)local ad=ac==a8 or type(ac)=='table'and ac.__concat==a8.__concat;local ae=getmetatable(a5)local af=ae==a8 or type(ae)=='table'and ae.__concat==a8.__concat;if not ad and not af then error('UUID: attempt to concatenate illegal values',2)end;return(ad and a8.__tostring(a4)or a4)..(af and a8.__tostring(a5)or a5)end}local ag='__CYTANB_CONST_VARIABLES'local ah=function(table,ai)local aj=getmetatable(table)if aj then local ak=rawget(aj,ag)if ak then local al=rawget(ak,ai)if type(al)=='function'then return al(table,ai)else return al end end end;return nil end;local am=function(table,ai,an)local aj=getmetatable(table)if aj then local ak=rawget(aj,ag)if ak then if rawget(ak,ai)~=nil then error('Cannot assign to read only field "'..ai..'"',2)end end end;rawset(table,ai,an)end;local ao=function(ap,aq)if not ap then return false,false end;local ar=ap[a.TypeParameterName]if a.NillableHasValue(ar)and a.NillableValue(ar)~=aq then return false,false end;return a.NillableIfHasValueOrElse(j[aq],function(as)local at=as.compositionFieldNames;local au=as.compositionFieldLength;local av=false;for aw,an in pairs(ap)do if at[aw]then au=au-1;if au<=0 and av then break end elseif aw~=a.TypeParameterName then av=true;if au<=0 then break end end end;return au<=0,av end,function()return false,false end)end;local ax=function(v)return a.StringReplace(a.StringReplace(v,a.EscapeSequenceTag,a.EscapeSequenceTag..a.EscapeSequenceTag),'/',a.SolidusTag)end;local ay=function(v,az)local aA=string.len(v)local aB=string.len(a.EscapeSequenceTag)if aB>aA then return v end;local aC=''local a6=1;while a6<aA do local C,aD=string.find(v,a.EscapeSequenceTag,a6,true)if not C then if a6==1 then aC=v else aC=aC..string.sub(v,a6)end;break end;if C>a6 then aC=aC..string.sub(v,a6,C-1)end;local aE=false;for aF,aG in ipairs(i)do local L=a.StringStartsWith(v,aG.search,C)if L then aC=aC..(az and az(aG.tag)or aG.replacement)a6=C+string.len(aG.search)aE=true;break end end;if not aE then aC=aC..a.EscapeSequenceTag;a6=aD+1 end end;return aC end;local aH;aH=function(aI,aJ)if type(aI)~='table'then return aI end;if not aJ then aJ={}end;if aJ[aI]then error('circular reference')end;aJ[aI]=true;local aK={}for aw,an in pairs(aI)do local aL=type(aw)local aM;if aL=='string'then aM=ax(aw)elseif aL=='number'then aM=tostring(aw)..a.ArrayNumberTag else aM=aw end;local aN=type(an)if aN=='string'then aK[aM]=ax(an)elseif aN=='number'and an<0 then aK[tostring(aM)..a.NegativeNumberTag]=tostring(an)else aK[aM]=aH(an,aJ)end end;aJ[aI]=nil;return aK end;local aO;aO=function(aK,aP)if type(aK)~='table'then return aK end;local aI={}for aw,an in pairs(aK)do local aM;local aQ=false;if type(aw)=='string'then local aR=false;aM=ay(aw,function(aS)if aS==a.NegativeNumberTag then aQ=true elseif aS==a.ArrayNumberTag then aR=true end;return nil end)if aR then aM=tonumber(aM)or aM end else aM=aw;aQ=false end;if aQ and type(an)=='string'then aI[aM]=tonumber(an)elseif type(an)=='string'then aI[aM]=ay(an,function(aS)return k[aS]end)else aI[aM]=aO(an,aP)end end;if not aP then a.NillableIfHasValue(aI[a.TypeParameterName],function(aT)a.NillableIfHasValue(j[aT],function(as)local aU,av=as.fromTableFunc(aI)if not av then a.NillableIfHasValue(aU,function(a9)aI=a9 end)end end)end)end;return aI end;local aV={['nil']=function(aW)return nil end,['number']=function(aW)return tonumber(aW)end,['string']=function(aW)return tostring(aW)end,['boolean']=function(aW)if aW then return true else return false end end}local aX=function(aW,aY)local aZ=type(aW)if aZ==aY then return aW else local a_=aV[aY]if a_ then return a_(aW)else return nil end end end;local b0=function(b1,b2)if b2 and type(b2)=='table'then local b3={}for ai,aW in pairs(b1)do local b4=b2[ai]local b5;if b4==nil then b5=aW else local b6=aX(b4,type(aW))if b6==nil then b5=aW else b5=b6 end end;b3[ai]=b5 end;b3[a.MessageOriginalSender]=b1;return b3 else return b1 end end;local b7=function(b8,b9,b2,ba)local bb={type=ba,name='',commentSource=''}local bc={[a.MessageValueParameterName]=tostring(b9),[a.MessageSenderOverride]=type(b2)=='table'and a.Extend(bb,b2,true)or bb}a.EmitMessage(b8,bc)end;local bd=function(b8,be,bf)local bg,bh=(function()local a_=function(b1,bi,bc)local b9=tostring(bc[a.MessageValueParameterName]or'')bf(b1,be,b9)end;local bg=a.OnMessage(b8,a_)local bh=a.OnMessage(be,a_)return bg,bh end)()return{Off=function()bg.Off()bh.Off()end}end;a={InstanceID=function()return vci.assets.GetInstanceId()or''end,ClientID=function()return o end,NillableHasValue=function(bj)return bj~=nil end,NillableValue=function(bj)if bj==nil then error('nillable: value is nil',2)end;return bj end,NillableValueOrDefault=function(bj,bk)if bj==nil then if bk==nil then error('nillable: defaultValue is nil',2)end;return bk else return bj end end,NillableIfHasValue=function(bj,bf)if bj==nil then return nil else return bf(bj)end end,NillableIfHasValueOrElse=function(bj,bf,bl)if bj==nil then return bl()else return bf(bj)end end,MakeSearchPattern=function(bm,bn,bo)local F=bn and math.floor(bn)or 1;if F<0 then error('SearchPattern: Invalid parameter: optRepeatMin < 0')end;local G=bo and math.floor(bo)or F;if G>=0 and G<F then error('SearchPattern: Invalid parameter: repeatMax < repeatMin')end;local bp=G==0;local z={}local bq={}local br={}local bs=0;for bt,bu in pairs(bm)do local r=string.len(bu)if r==0 then bp=true else z[bu]=r;if not bq[r]then bq[r]=true;bs=bs+1;br[bs]=r end end end;table.sort(br,function(bv,L)return bv>L end)return{hasEmptySearch=bp,searchMap=z,lengthList=br,repeatMin=F,repeatMax=G}end,StringStartsWith=function(v,O,bw)local I=bw and math.max(1,math.floor(bw))or 1;if type(O)=='table'then return E(v,O,I,p)else return N(v,O,I,I==1,p,string.startsWith)end end,StringEndsWith=function(v,O,bx)if v==nil then return false,-1 end;local w=string.len(v)local I=bx and math.min(w,math.floor(bx))or w;if type(O)=='table'then return E(v,O,I,t)else return N(v,O,I,I==w,t,string.endsWith)end end,
StringTrimStart=function(v,by)if v==nil or v==''then return v end;local L,M=a.StringStartsWith(v,by or c)if L and M>=1 then return string.sub(v,M+1)else return v end end,StringTrimEnd=function(v,by)if v==nil or v==''then return v end;local L,M=a.StringEndsWith(v,by or c)if L and M>=1 then return string.sub(v,1,string.len(v)-M)else return v end end,StringTrim=function(v,by)return a.StringTrimEnd(a.StringTrimStart(v,by),by)end,StringReplace=function(v,bz,bA)local bB;local aA=string.len(v)if bz==''then bB=bA;for a6=1,aA do bB=bB..string.sub(v,a6,a6)..bA end else bB=''local a6=1;while true do local B,C=string.find(v,bz,a6,true)if B then bB=bB..string.sub(v,a6,B-1)..bA;a6=C+1;if a6>aA then break end else bB=a6==1 and v or bB..string.sub(v,a6)break end end end;return bB end,StringEachCode=function(v,bf,bC,a6,bD,bE,bF,bG)local aA=string.len(v)if aA==0 then return 0,0,0 end;local bH=a6 and math.floor(a6)or 1;local T=bD and math.floor(bD)or aA;local W=math.min(bG or 3182,0x1FFFFF)if bH<=0 or T>aA or bH>T then error('StringEachCode: invalid range')end;local bI=0;local bJ=bH;local bK=bJ;while bJ<=T do local B=bJ;local U=string.unicode(v,bJ,bJ)if U>=0xD800 and U<=0xDBFF then local L,M=R(v,bJ+1,T)if L then bJ=bJ+M end elseif bE and U==0x3C then local L,M,a2=V(v,bJ+1,T,W)if L and(not bF or bF(a2))then bJ=bJ+M end end;bI=bI+1;bK=bJ;if bf and bf(string.sub(v,B,bJ),bI,bC,B,bJ)==false then break end;bJ=bJ+1 end;return bI,bH,bK end,SetConst=function(bz,b8,a9)if type(bz)~='table'then error('Cannot set const to non-table target',2)end;local bL=getmetatable(bz)local aj=bL or{}local bM=rawget(aj,ag)if rawget(bz,b8)~=nil then error('Non-const field "'..b8 ..'" already exists',2)end;if not bM then bM={}rawset(aj,ag,bM)aj.__index=ah;aj.__newindex=am end;rawset(bM,b8,a9)if not bL then setmetatable(bz,aj)end;return bz end,SetConstEach=function(bz,bN)for aw,an in pairs(bN)do a.SetConst(bz,aw,an)end;return bz end,Extend=function(bz,bO,bP,bQ,aJ)if bz==bO or type(bz)~='table'or type(bO)~='table'then return bz end;if bP then if not aJ then aJ={}end;if aJ[bO]then error('circular reference')end;aJ[bO]=true end;for aw,an in pairs(bO)do if bP and type(an)=='table'then local bR=bz[aw]bz[aw]=a.Extend(type(bR)=='table'and bR or{},an,bP,bQ,aJ)else bz[aw]=an end end;if not bQ then local bS=getmetatable(bO)if type(bS)=='table'then if bP then local bT=getmetatable(bz)setmetatable(bz,a.Extend(type(bT)=='table'and bT or{},bS,true))else setmetatable(bz,bS)end end end;if bP then aJ[bO]=nil end;return bz end,Vars=function(an,bU,bV,aJ)local bW;if bU then bW=bU~='__NOLF'else bU='  'bW=true end;if not bV then bV=''end;if not aJ then aJ={}end;local bX=type(an)if bX=='table'then aJ[an]=aJ[an]and aJ[an]+1 or 1;local bY=bW and bV..bU or''local v='('..tostring(an)..') {'local bZ=true;for ai,aW in pairs(an)do if bZ then bZ=false else v=v..(bW and','or', ')end;if bW then v=v..'\n'..bY end;if type(aW)=='table'and aJ[aW]and aJ[aW]>0 then v=v..ai..' = ('..tostring(aW)..')'else v=v..ai..' = '..a.Vars(aW,bU,bY,aJ)end end;if not bZ and bW then v=v..'\n'..bV end;v=v..'}'aJ[an]=aJ[an]-1;if aJ[an]<=0 then aJ[an]=nil end;return v elseif bX=='function'or bX=='thread'or bX=='userdata'then return'('..bX..')'elseif bX=='string'then return'('..bX..') '..string.format('%q',an)else return'('..bX..') '..tostring(an)end end,PosixTime=(function()local b_=os.time({year=1970,month=1,day=2,hour=0,min=0,sec=0,isdst=false})if not b_ then error('unexpected')end;local c0=os.date('!*t',b_)local c1=(((c0.day-1)*24+c0.hour)*60+c0.min)*60+c0.sec;return function(c2)return os.difftime(c2 or os.time(),b_)+c1 end end)(),GetLogLevel=function()return l end,SetLogLevel=function(c3)l=c3 end,IsOutputLogLevelEnabled=function()return m end,SetOutputLogLevelEnabled=function(c4)m=not not c4 end,Log=function(c3,...)if c3<=l then local c5=m and(n[c3]or'LOG LEVEL '..tostring(c3))..' | 'or''local c6=table.pack(...)if c6.n==1 then local an=c6[1]if an~=nil then local v=type(an)=='table'and a.Vars(an)or tostring(an)print(m and c5 ..v or v)else print(c5)end else local v=c5;for a6=1,c6.n do local an=c6[a6]if an~=nil then v=v..(type(an)=='table'and a.Vars(an)or tostring(an))end end;print(v)end end end,LogFatal=function(...)a.Log(a.LogLevelFatal,...)end,LogError=function(...)a.Log(a.LogLevelError,...)end,LogWarn=function(...)a.Log(a.LogLevelWarn,...)end,LogInfo=function(...)a.Log(a.LogLevelInfo,...)end,LogDebug=function(...)a.Log(a.LogLevelDebug,...)end,LogTrace=function(...)a.Log(a.LogLevelTrace,...)end,FatalLog=function(...)a.LogFatal(...)end,ErrorLog=function(...)a.LogError(...)end,WarnLog=function(...)a.LogWarn(...)end,InfoLog=function(...)a.LogInfo(...)end,DebugLog=function(...)a.LogDebug(...)end,TraceLog=function(...)a.LogTrace(...)end,ListToMap=function(c7,c8)local c9={}if c8==nil then for aw,an in pairs(c7)do c9[an]=an end elseif type(c8)=='function'then for aw,an in pairs(c7)do local ca,cb=c8(an)c9[ca]=cb end else for aw,an in pairs(c7)do c9[an]=c8 end end;return c9 end,Round=function(cc,cd)if cd then local ce=10^cd;return math.floor(cc*ce+0.5)/ce else return math.floor(cc+0.5)end end,Clamp=function(a9,cf,cg)return math.max(cf,math.min(a9,cg))end,Lerp=function(bv,L,bX)if bX<=0.0 then return bv elseif bX>=1.0 then return L else return bv+(L-bv)*bX end end,LerpUnclamped=function(bv,L,bX)if bX==0.0 then return bv elseif bX==1.0 then return L else return bv+(L-bv)*bX end end,PingPong=function(bX,ch)if ch==0 then return 0,1 end;local ci=math.floor(bX/ch)local cj=bX-ci*ch;if ci<0 then if(ci+1)%2==0 then return ch-cj,-1 else return cj,1 end else if ci%2==0 then return cj,1 else return ch-cj,-1 end end end,VectorApproximatelyEquals=function(ck,cl)return(ck-cl).sqrMagnitude<1E-10 end,QuaternionApproximatelyEquals=function(ck,cl)local cm=Quaternion.Dot(ck,cl)return cm<1.0+1E-06 and cm>1.0-1E-06 end,QuaternionToAngleAxis=function(cn)local ci=cn.normalized;local co=math.acos(ci.w)local cp=math.sin(co)local cq=math.deg(co*2.0)local cr;if math.abs(cp)<=Quaternion.kEpsilon then cr=Vector3.right else local B=1.0/cp;cr=Vector3.__new(ci.x*B,ci.y*B,ci.z*B)end;return cq,cr end,QuaternionTwist=function(cn,cs)if cs.sqrMagnitude<Vector3.kEpsilonNormalSqrt then return Quaternion.identity end;local ct=Vector3.__new(cn.x,cn.y,cn.z)if ct.sqrMagnitude>=Vector3.kEpsilonNormalSqrt then local cu=Vector3.Project(ct,cs)if cu.sqrMagnitude>=Vector3.kEpsilonNormalSqrt then local cv=Quaternion.__new(cu.x,cu.y,cu.z,cn.w)cv.Normalize()return cv else return Quaternion.AngleAxis(0,cs)end else local cw=a.QuaternionToAngleAxis(cn)return Quaternion.AngleAxis(cw,cs)end end,ApplyQuaternionToVector3=function(cn,cx)local cy=cn.w*cx.x+cn.y*cx.z-cn.z*cx.y;local cz=cn.w*cx.y-cn.x*cx.z+cn.z*cx.x;local cA=cn.w*cx.z+cn.x*cx.y-cn.y*cx.x;local cB=-cn.x*cx.x-cn.y*cx.y-cn.z*cx.z;return Vector3.__new(cB*-cn.x+cy*cn.w+cz*-cn.z-cA*-cn.y,cB*-cn.y-cy*-cn.z+cz*cn.w+cA*-cn.x,cB*-cn.z+cy*-cn.y-cz*-cn.x+cA*cn.w)end,RotateAround=function(cC,cD,cE,cF)return cE+cF*(cC-cE),cF*cD end,Random32=function()return bit32.band(math.random(-2147483648,2147483646)+2147483648,0xFFFFFFFF)end,RandomUUID=function()return a.UUIDFromNumbers(a.Random32(),bit32.bor(0x4000,bit32.band(a.Random32(),0xFFFF0FFF)),bit32.bor(0x80000000,bit32.band(a.Random32(),0x3FFFFFFF)),a.Random32())end,UUIDString=function(cG)return a8.__tostring(cG)end,UUIDFromNumbers=function(...)local cH=...local bX=type(cH)local cI,cJ,cK,cL;if bX=='table'then cI=cH[1]cJ=cH[2]cK=cH[3]cL=cH[4]else cI,cJ,cK,cL=...end;local cG={bit32.band(cI or 0,0xFFFFFFFF),bit32.band(cJ or 0,0xFFFFFFFF),bit32.band(cK or 0,0xFFFFFFFF),bit32.band(cL or 0,0xFFFFFFFF)}setmetatable(cG,a8)return cG end,
UUIDFromString=function(v)local aA=string.len(v)if aA==32 then local cG=a.UUIDFromNumbers(0,0,0,0)for a6=1,4 do local B=1+(a6-1)*8;if not a.StringStartsWith(v,g,B)then return nil end;cG[a6]=tonumber(string.sub(v,B,B+7),16)end;return cG elseif aA==36 then if not a.StringStartsWith(v,g,1)then return nil end;local cI=tonumber(string.sub(v,1,8),16)if not a.StringStartsWith(v,'-',9)or not a.StringStartsWith(v,f,10)or not a.StringStartsWith(v,'-',14)or not a.StringStartsWith(v,f,15)then return nil end;local cJ=tonumber(string.sub(v,10,13)..string.sub(v,15,18),16)if not a.StringStartsWith(v,'-',19)or not a.StringStartsWith(v,f,20)or not a.StringStartsWith(v,'-',24)or not a.StringStartsWith(v,f,25)then return nil end;local cK=tonumber(string.sub(v,20,23)..string.sub(v,25,28),16)if not a.StringStartsWith(v,g,29)then return nil end;local cL=tonumber(string.sub(v,29),16)return a.UUIDFromNumbers(cI,cJ,cK,cL)else return nil end end,ParseUUID=function(v)return a.UUIDFromString(v)end,CreateCircularQueue=function(cM)if type(cM)~='number'or cM<1 then error('CreateCircularQueue: Invalid argument: capacity = '..tostring(cM),2)end;local self;local cN=math.floor(cM)local aC={}local cO=0;local cP=0;local cQ=0;self={Size=function()return cQ end,Clear=function()cO=0;cP=0;cQ=0 end,IsEmpty=function()return cQ==0 end,Offer=function(cR)aC[cO+1]=cR;cO=(cO+1)%cN;if cQ<cN then cQ=cQ+1 else cP=(cP+1)%cN end;return true end,OfferFirst=function(cR)cP=(cN+cP-1)%cN;aC[cP+1]=cR;if cQ<cN then cQ=cQ+1 else cO=(cN+cO-1)%cN end;return true end,Poll=function()if cQ==0 then return nil else local cR=aC[cP+1]cP=(cP+1)%cN;cQ=cQ-1;return cR end end,PollLast=function()if cQ==0 then return nil else cO=(cN+cO-1)%cN;local cR=aC[cO+1]cQ=cQ-1;return cR end end,Peek=function()if cQ==0 then return nil else return aC[cP+1]end end,PeekLast=function()if cQ==0 then return nil else return aC[(cN+cO-1)%cN+1]end end,Get=function(cS)if cS<1 or cS>cQ then a.LogError('CreateCircularQueue.Get: index is outside the range: '..cS)return nil end;return aC[(cP+cS-1)%cN+1]end,IsFull=function()return cQ>=cN end,MaxSize=function()return cN end}return self end,DetectClicks=function(cT,cU,cV)local bI=cT or 0;local cW=cV or TimeSpan.FromMilliseconds(500)local cX=vci.me.Time;local cY=cU and cX>cU+cW and 1 or bI+1;return cY,cX end,ColorRGBToHSV=function(cZ)local cj=math.max(0.0,math.min(cZ.r,1.0))local c_=math.max(0.0,math.min(cZ.g,1.0))local L=math.max(0.0,math.min(cZ.b,1.0))local cg=math.max(cj,c_,L)local cf=math.min(cj,c_,L)local d0=cg-cf;local al;if d0==0.0 then al=0.0 elseif cg==cj then al=(c_-L)/d0/6.0 elseif cg==c_ then al=(2.0+(L-cj)/d0)/6.0 else al=(4.0+(cj-c_)/d0)/6.0 end;if al<0.0 then al=al+1.0 end;local d1=cg==0.0 and d0 or d0/cg;local an=cg;return al,d1,an end,ColorFromARGB32=function(d2)local d3=type(d2)=='number'and d2 or 0xFF000000;return Color.__new(bit32.band(bit32.rshift(d3,16),0xFF)/0xFF,bit32.band(bit32.rshift(d3,8),0xFF)/0xFF,bit32.band(d3,0xFF)/0xFF,bit32.band(bit32.rshift(d3,24),0xFF)/0xFF)end,ColorToARGB32=function(cZ)return bit32.bor(bit32.lshift(bit32.band(a.Round(0xFF*cZ.a),0xFF),24),bit32.lshift(bit32.band(a.Round(0xFF*cZ.r),0xFF),16),bit32.lshift(bit32.band(a.Round(0xFF*cZ.g),0xFF),8),bit32.band(a.Round(0xFF*cZ.b),0xFF))end,ColorFromIndex=function(d4,d5,d6,d7,d8)local d9=math.max(math.floor(d5 or a.ColorHueSamples),1)local da=d8 and d9 or d9-1;local db=math.max(math.floor(d6 or a.ColorSaturationSamples),1)local dc=math.max(math.floor(d7 or a.ColorBrightnessSamples),1)local cS=a.Clamp(math.floor(d4 or 0),0,d9*db*dc-1)local dd=cS%d9;local de=math.floor(cS/d9)local B=de%db;local df=math.floor(de/db)if d8 or dd~=da then local al=dd/da;local d1=(db-B)/db;local an=(dc-df)/dc;return Color.HSVToRGB(al,d1,an)else local an=(dc-df)/dc*B/(db-1)return Color.HSVToRGB(0.0,0.0,an)end end,ColorToIndex=function(cZ,d5,d6,d7,d8)local d9=math.max(math.floor(d5 or a.ColorHueSamples),1)local da=d8 and d9 or d9-1;local db=math.max(math.floor(d6 or a.ColorSaturationSamples),1)local dc=math.max(math.floor(d7 or a.ColorBrightnessSamples),1)local al,d1,an=a.ColorRGBToHSV(cZ)local B=a.Round(db*(1.0-d1))if d8 or B<db then local dg=a.Round(da*al)if dg>=da then dg=0 end;if B>=db then B=db-1 end;local df=math.min(dc-1,a.Round(dc*(1.0-an)))return dg+d9*(B+db*df)else local dh=a.Round((db-1)*an)if dh==0 then local di=a.Round(dc*(1.0-an))if di>=dc then return d9-1 else return d9*(1+a.Round(an*(db-1)/(dc-di)*dc)+db*di)-1 end else return d9*(1+dh+db*a.Round(dc*(1.0-an*(db-1)/dh)))-1 end end end,ColorToTable=function(cZ)return cZ and{[a.TypeParameterName]=a.ColorTypeName,r=cZ.r,g=cZ.g,b=cZ.b,a=cZ.a}or nil end,ColorFromTable=function(ap)local L,av=ao(ap,a.ColorTypeName)return L and Color.__new(ap.r,ap.g,ap.b,ap.a)or nil,av end,Vector2ToTable=function(a9)return a9 and{[a.TypeParameterName]=a.Vector2TypeName,x=a9.x,y=a9.y}or nil end,Vector2FromTable=function(ap)local L,av=ao(ap,a.Vector2TypeName)return L and Vector2.__new(ap.x,ap.y)or nil,av end,Vector3ToTable=function(a9)return a9 and{[a.TypeParameterName]=a.Vector3TypeName,x=a9.x,y=a9.y,z=a9.z}or nil end,Vector3FromTable=function(ap)local L,av=ao(ap,a.Vector3TypeName)return L and Vector3.__new(ap.x,ap.y,ap.z)or nil,av end,Vector4ToTable=function(a9)return a9 and{[a.TypeParameterName]=a.Vector4TypeName,x=a9.x,y=a9.y,z=a9.z,w=a9.w}or nil end,Vector4FromTable=function(ap)local L,av=ao(ap,a.Vector4TypeName)return L and Vector4.__new(ap.x,ap.y,ap.z,ap.w)or nil,av end,QuaternionToTable=function(a9)return a9 and{[a.TypeParameterName]=a.QuaternionTypeName,x=a9.x,y=a9.y,z=a9.z,w=a9.w}or nil end,QuaternionFromTable=function(ap)local L,av=ao(ap,a.QuaternionTypeName)return L and Quaternion.__new(ap.x,ap.y,ap.z,ap.w)or nil,av end,TableToSerializable=function(aI)return aH(aI)end,TableFromSerializable=function(aK,aP)return aO(aK,aP)end,TableToSerialiable=function(aI)return aH(aI)end,TableFromSerialiable=function(aK,aP)return aO(aK,aP)end,EmitMessage=function(b8,bc)local aK=a.NillableIfHasValueOrElse(bc,function(aI)if type(aI)~='table'then error('EmitMessage: Invalid argument: table expected',3)end;return a.TableToSerializable(aI)end,function()return{}end)local dj=a.InstanceID()if dj==''then a.LogWarn('EmitMessage: InstanceID is empty. Consider using the CreateUpdateRoutine function.')end;aK[a.InstanceIDParameterName]=dj;vci.message.Emit(b8,json.serialize(aK))end,OnMessage=function(b8,bf)local a_=function(b1,bi,b9)if type(b9)=='string'and string.startsWith(b9,'{')then local dk,aK=pcall(json.parse,b9)if dk and type(aK)=='table'and aK[a.InstanceIDParameterName]then local dl=a.TableFromSerializable(aK)bf(b0(b1,dl[a.MessageSenderOverride]),bi,dl)return end end;bf(b1,bi,{[a.MessageValueParameterName]=b9})end;vci.message.On(b8,a_)return{Off=function()if a_ then a_=nil end end}end,OnInstanceMessage=function(b8,bf)local a_=function(b1,bi,bc)local dj=a.InstanceID()if dj~=''and dj==bc[a.InstanceIDParameterName]then bf(b1,bi,bc)end end;return a.OnMessage(b8,a_)end,EmitCommentMessage=function(b9,b2)b7(a.DedicatedCommentMessageName,b9,b2,'comment')end,OnCommentMessage=function(bf)return bd(a.DedicatedCommentMessageName,'comment',bf)end,EmitNotificationMessage=function(b9,b2)b7(a.DedicatedNotificationMessageName,b9,b2,'notification')end,OnNotificationMessage=function(bf)return bd(a.DedicatedNotificationMessageName,'notification',bf)end,GetEffekseerEmitterMap=function(b8)local dm=vci.assets.GetEffekseerEmitters(b8)if not dm then return nil end;local c9={}for a6,dn in pairs(dm)do c9[dn.EffectName]=dn end;return c9 end,ParseTagString=function(v)local bJ=string.find(v,'#',1,true)if not bJ then return{},v end;local dp={}local dq=string.sub(v,1,bJ-1)bJ=bJ+1;local aA=string.len(v)while bJ<=aA do local dr,ds=a.StringStartsWith(v,h,bJ)if dr then local dt=bJ+ds;local du=string.sub(v,bJ,dt-1)local dv=du;bJ=dt;if bJ<=aA and a.StringStartsWith(v,'=',bJ)then bJ=bJ+1;local dw,dx=a.StringStartsWith(v,h,bJ)if dw then local dy=bJ+dx;dv=string.sub(v,bJ,dy-1)bJ=dy else dv=''end end;dp[du]=dv end;bJ=string.find(v,'#',bJ,true)if not bJ then break end;bJ=bJ+1 end;return dp,dq end,
CalculateSIPrefix=(function()local dz=9;local dA={'y','z','a','f','p','n','u','m','','k','M','G','T','P','E','Z','Y'}local dB=#dA;return function(cc)local dC=cc==0 and 0 or a.Clamp(math.floor(math.log(math.abs(cc),1000)),1-dz,dB-dz)return dC==0 and cc or cc/1000^dC,dA[dz+dC],dC*3 end end)(),CreateLocalSharedProperties=function(dD,dE)local dF=TimeSpan.FromSeconds(5)local dG='33657f0e-7c44-4ee7-acd9-92dd8b8d807a'local dH='__CYTANB_LOCAL_SHARED_PROPERTIES_LISTENER_MAP'if type(dD)~='string'or string.len(dD)<=0 or type(dE)~='string'or string.len(dE)<=0 then error('LocalSharedProperties: Invalid arguments',2)end;local dI=_G[dG]if not dI then dI={}_G[dG]=dI end;dI[dE]=vci.me.UnscaledTime;local dJ=_G[dD]if not dJ then dJ={[dH]={}}_G[dD]=dJ end;local dK=dJ[dH]local self;self={GetLspID=function()return dD end,GetLoadID=function()return dE end,GetProperty=function(ai,bk)local a9=dJ[ai]if a9==nil then return bk else return a9 end end,SetProperty=function(ai,a9)if ai==dH then error('LocalSharedProperties: Invalid argument: key = ',ai,2)end;local cX=vci.me.UnscaledTime;local dL=dJ[ai]dJ[ai]=a9;for dM,dj in pairs(dK)do local bX=dI[dj]if bX and bX+dF>=cX then dM(self,ai,a9,dL)else dM(self,a.LOCAL_SHARED_PROPERTY_EXPIRED_KEY,true,false)dK[dM]=nil;dI[dj]=nil end end end,Clear=function()for ai,a9 in pairs(dJ)do if ai~=dH then self.SetProperty(ai,nil)end end end,Each=function(bf)for ai,a9 in pairs(dJ)do if ai~=dH and bf(a9,ai,self)==false then return false end end end,AddListener=function(dM)dK[dM]=dE end,RemoveListener=function(dM)dK[dM]=nil end,UpdateAlive=function()dI[dE]=vci.me.UnscaledTime end}return self end,EstimateFixedTimestep=function(dN)local dO=1.0;local dP=1000.0;local dQ=TimeSpan.FromSeconds(0.02)local dR=0xFFFF;local dS=a.CreateCircularQueue(64)local dT=TimeSpan.FromSeconds(5)local dU=TimeSpan.FromSeconds(30)local dV=false;local dW=vci.me.Time;local dX=a.Random32()local dY=Vector3.__new(bit32.bor(0x400,bit32.band(dX,0x1FFF)),bit32.bor(0x400,bit32.band(bit32.rshift(dX,16),0x1FFF)),0.0)dN.SetPosition(dY)dN.SetRotation(Quaternion.identity)dN.SetVelocity(Vector3.zero)dN.SetAngularVelocity(Vector3.zero)dN.AddForce(Vector3.__new(0.0,0.0,dO*dP))local self={Timestep=function()return dQ end,Precision=function()return dR end,IsFinished=function()return dV end,Update=function()if dV then return dQ end;local dZ=vci.me.Time-dW;local d_=dZ.TotalSeconds;if d_<=Vector3.kEpsilon then return dQ end;local e0=dN.GetPosition().z-dY.z;local e1=e0/d_;local e2=e1/dP;if e2<=Vector3.kEpsilon then return dQ end;dS.Offer(e2)local e3=dS.Size()if e3>=2 and dZ>=dT then local e4=0.0;for a6=1,e3 do e4=e4+dS.Get(a6)end;local e5=e4/e3;local e6=0.0;for a6=1,e3 do e6=e6+(dS.Get(a6)-e5)^2 end;local e7=e6/e3;if e7<dR then dR=e7;dQ=TimeSpan.FromSeconds(e5)end;if dZ>dU then dV=true;dN.SetPosition(dY)dN.SetRotation(Quaternion.identity)dN.SetVelocity(Vector3.zero)dN.SetAngularVelocity(Vector3.zero)end else dQ=TimeSpan.FromSeconds(e2)end;return dQ end}return self end,AlignSubItemOrigin=function(e8,e9,ea)local eb=e8.GetRotation()if not a.QuaternionApproximatelyEquals(e9.GetRotation(),eb)then e9.SetRotation(eb)end;local ec=e8.GetPosition()if not a.VectorApproximatelyEquals(e9.GetPosition(),ec)then e9.SetPosition(ec)end;if ea then e9.SetVelocity(Vector3.zero)e9.SetAngularVelocity(Vector3.zero)end end,CreateSubItemGlue=function()local ed={}local self;self={Contains=function(ee,ef)return a.NillableIfHasValueOrElse(ed[ee],function(bN)return a.NillableHasValue(bN[ef])end,function()return false end)end,Add=function(ee,eg,ea)if not ee or not eg then local eh='SubItemGlue.Add: Invalid arguments '..(not ee and', parent = '..tostring(ee)or'')..(not eg and', children = '..tostring(eg)or'')error(eh,2)end;local bN=a.NillableIfHasValueOrElse(ed[ee],function(ei)return ei end,function()local ei={}ed[ee]=ei;return ei end)if type(eg)=='table'then for ai,aW in pairs(eg)do bN[aW]={velocityReset=not not ea}end else bN[eg]={velocityReset=not not ea}end end,Remove=function(ee,ef)return a.NillableIfHasValueOrElse(ed[ee],function(bN)if a.NillableHasValue(bN[ef])then bN[ef]=nil;return true else return false end end,function()return false end)end,RemoveParent=function(ee)if a.NillableHasValue(ed[ee])then ed[ee]=nil;return true else return false end end,RemoveAll=function()ed={}return true end,Each=function(bf,ej)return a.NillableIfHasValueOrElse(ej,function(ee)return a.NillableIfHasValue(ed[ee],function(bN)for ef,ek in pairs(bN)do if bf(ef,ee,self)==false then return false end end end)end,function()for ee,bN in pairs(ed)do if self.Each(bf,ee)==false then return false end end end)end,Update=function(el)for ee,bN in pairs(ed)do local em=ee.GetPosition()local en=ee.GetRotation()for ef,ek in pairs(bN)do if el or ef.IsMine then if not a.QuaternionApproximatelyEquals(ef.GetRotation(),en)then ef.SetRotation(en)end;if not a.VectorApproximatelyEquals(ef.GetPosition(),em)then ef.SetPosition(em)end;if ek.velocityReset then ef.SetVelocity(Vector3.zero)ef.SetAngularVelocity(Vector3.zero)end end end end end}return self end,CreateUpdateRoutine=function(eo,ep,eq,er)return coroutine.wrap(function()local es=er or TimeSpan.FromSeconds(60)local et=vci.me.UnscaledTime;local eu=et;local cU=vci.me.Time;local ev=true;while a.InstanceID()==''do local ew=vci.me.UnscaledTime;if ew-es>et then local ex='TIMEOUT: Could not receive Instance ID.'a.LogError(ex)if eq then eq(ex)end;return-1 end;eu=ew;cU=vci.me.Time;ev=false;coroutine.yield(100)end;if ev then eu=vci.me.UnscaledTime;cU=vci.me.Time;coroutine.yield(100)end;if ep then ep()end;while true do local cX=vci.me.Time;local ey=cX-cU;local ew=vci.me.UnscaledTime;local ez=ew-eu;eo(ey,ez)cU=cX;eu=ew;coroutine.yield(100)end end)end,
CreateSlideSwitch=function(eA)local eB=a.NillableValue(eA.colliderItem)local eC=a.NillableValue(eA.baseItem)local eD=a.NillableValue(eA.knobItem)local eE=a.NillableValueOrDefault(eA.minValue,0)local eF=a.NillableValueOrDefault(eA.maxValue,10)if eE>=eF then error('SlideSwitch: Invalid argument: minValue >= maxValue',2)end;local eG=(eE+eF)*0.5;local eH=function(aW)local eI,eJ=a.PingPong(aW-eE,eF-eE)return eI+eE,eJ end;local a9=eH(a.NillableValueOrDefault(eA.value,0))local eK=a.NillableIfHasValueOrElse(eA.tickFrequency,function(eL)if eL<=0 then error('SlideSwitch: Invalid argument: tickFrequency <= 0',3)end;return math.min(eL,eF-eE)end,function()return(eF-eE)/10.0 end)local eM=a.NillableIfHasValueOrElse(eA.tickVector,function(cr)return Vector3.__new(cr.x,cr.y,cr.z)end,function()return Vector3.__new(0.01,0.0,0.0)end)local eN=eM.magnitude;if eN<Vector3.kEpsilon then error('SlideSwitch: Invalid argument: tickVector is too small',2)end;local eO=a.NillableValueOrDefault(eA.snapToTick,true)local eP=eA.valueTextName;local eQ=a.NillableValueOrDefault(eA.valueToText,tostring)local eR=TimeSpan.FromMilliseconds(1000)local eS=TimeSpan.FromMilliseconds(50)local eT,eU;local dK={}local self;local eV=false;local eW=0;local eX=false;local eY=TimeSpan.Zero;local eZ=TimeSpan.Zero;local e_=function(f0,f1)if f1 or f0~=a9 then local dL=a9;a9=f0;for dM,an in pairs(dK)do dM(self,a9,dL)end end;eD.SetLocalPosition((f0-eG)/eK*eM)if eP then vci.assets.SetText(eP,eQ(f0,self))end end;local f2=function()local f3=eT()local f4,f5=eH(f3)local f6=f3+eK;local f7,f8=eH(f6)assert(f7)local f0;if f5==f8 or f4==eF or f4==eE then f0=f6 else f0=f5>=0 and eF or eE end;eZ=vci.me.UnscaledTime;if f0==eF or f0==eE then eY=eZ end;eU(f0)end;a.NillableIfHasValueOrElse(eA.lsp,function(f9)if not a.NillableHasValue(eA.propertyName)then error('SlideSwitch: Invalid argument: propertyName is nil',3)end;local fa=a.NillableValue(eA.propertyName)eT=function()return f9.GetProperty(fa,a9)end;eU=function(aW)f9.SetProperty(fa,aW)end;f9.AddListener(function(bO,ai,fb,fc)if ai==fa then e_(eH(fb),true)end end)end,function()local fb=a9;eT=function()return fb end;eU=function(aW)fb=aW;e_(eH(aW),true)end end)self={GetColliderItem=function()return eB end,GetBaseItem=function()return eC end,GetKnobItem=function()return eD end,GetMinValue=function()return eE end,GetMaxValue=function()return eF end,GetValue=function()return a9 end,GetScaleValue=function(fd,fe)assert(fd<=fe)return fd+(fe-fd)*(a9-eE)/(eF-eE)end,SetValue=function(aW)eU(eH(aW))end,GetTickFrequency=function()return eK end,IsSnapToTick=function()return eO end,AddListener=function(dM)dK[dM]=dM end,RemoveListener=function(dM)dK[dM]=nil end,DoUse=function()if not eV then eX=true;eY=vci.me.UnscaledTime;f2()end end,DoUnuse=function()eX=false end,DoGrab=function()if not eX then eV=true;eW=(a9-eG)/eK end end,DoUngrab=function()eV=false end,Update=function()if eV then local ff=eB.GetPosition()-eC.GetPosition()local fg=eD.GetRotation()*eM;local fh=Vector3.Project(ff,fg)local fi=(Vector3.Dot(fg,fh)>=0 and 1 or-1)*fh.magnitude/eN+eW;local fj=(eO and a.Round(fi)or fi)*eK+eG;local f0=a.Clamp(fj,eE,eF)if f0~=a9 then eU(f0)end elseif eX then local fk=vci.me.UnscaledTime;if fk>=eY+eR and fk>=eZ+eS then f2()end elseif eB.IsMine then a.AlignSubItemOrigin(eC,eB)end end}e_(eH(eT()),false)return self end,CreateSubItemConnector=function()local fl=function(fm,e9,fn)fm.item=e9;fm.position=e9.GetPosition()fm.rotation=e9.GetRotation()fm.initialPosition=fm.position;fm.initialRotation=fm.rotation;fm.propagation=not not fn;return fm end;local fo=function(fp)for e9,fm in pairs(fp)do fl(fm,e9,fm.propagation)end end;local fq=function(q,cF,fm,fr,fs)local ff=q-fm.initialPosition;local ft=cF*Quaternion.Inverse(fm.initialRotation)fm.position=q;fm.rotation=cF;for e9,fu in pairs(fr)do if e9~=fm.item and(not fs or fs(fu))then fu.position,fu.rotation=a.RotateAround(fu.initialPosition+ff,fu.initialRotation,q,ft)e9.SetPosition(fu.position)e9.SetRotation(fu.rotation)end end end;local fv={}local fw=true;local fx=false;local self;self={IsEnabled=function()return fw end,SetEnabled=function(c4)fw=c4;if c4 then fo(fv)fx=false end end,Contains=function(fy)return a.NillableHasValue(fv[fy])end,Add=function(fz,fA)if not fz then error('SubItemConnector.Add: Invalid argument: subItems = '..tostring(fz),2)end;local fB=type(fz)=='table'and fz or{fz}fo(fv)fx=false;for aw,e9 in pairs(fB)do fv[e9]=fl({},e9,not fA)end end,Remove=function(fy)local L=a.NillableHasValue(fv[fy])fv[fy]=nil;return L end,RemoveAll=function()fv={}return true end,Each=function(bf)for e9,fm in pairs(fv)do if bf(e9,self)==false then return false end end end,GetItems=function()local fB={}for e9,fm in pairs(fv)do table.insert(fB,e9)end;return fB end,Update=function()if not fw then return end;local fC=false;for e9,fm in pairs(fv)do local bJ=e9.GetPosition()local fD=e9.GetRotation()if not a.VectorApproximatelyEquals(bJ,fm.position)or not a.QuaternionApproximatelyEquals(fD,fm.rotation)then if fm.propagation then if e9.IsMine then fq(bJ,fD,fv[e9],fv,function(fu)if fu.item.IsMine then return true else fx=true;return false end end)fC=true;break else fx=true end else fx=true end end end;if not fC and fx then fo(fv)fx=false end end}return self end,UnixTime=function(c2)return a.PosixTime(c2)end,GetSubItemTransform=function(fy)local q=fy.GetPosition()local cF=fy.GetRotation()local fE=fy.GetLocalScale()return{positionX=q.x,positionY=q.y,positionZ=q.z,rotationX=cF.x,rotationY=cF.y,rotationZ=cF.z,rotationW=cF.w,scaleX=fE.x,scaleY=fE.y,scaleZ=fE.z}end}a.SetConstEach(a,{LogLevelOff=0,LogLevelFatal=100,LogLevelError=200,LogLevelWarn=300,LogLevelInfo=400,LogLevelDebug=500,LogLevelTrace=600,LogLevelAll=0x7FFFFFFF,ColorHueSamples=10,ColorSaturationSamples=4,ColorBrightnessSamples=5,EscapeSequenceTag='#__CYTANB',SolidusTag='#__CYTANB_SOLIDUS',NegativeNumberTag='#__CYTANB_NEGATIVE_NUMBER',ArrayNumberTag='#__CYTANB_ARRAY_NUMBER',InstanceIDParameterName='__CYTANB_INSTANCE_ID',MessageValueParameterName='__CYTANB_MESSAGE_VALUE',MessageSenderOverride='__CYTANB_MESSAGE_SENDER_OVERRIDE',MessageOriginalSender='__CYTANB_MESSAGE_ORIGINAL_SENDER',TypeParameterName='__CYTANB_TYPE',ColorTypeName='Color',Vector2TypeName='Vector2',Vector3TypeName='Vector3',Vector4TypeName='Vector4',QuaternionTypeName='Quaternion',DedicatedCommentMessageName='cytanb.comment.a2a6a035-6b8d-4e06-b4f9-07e6209b0639',DedicatedNotificationMessageName='cytanb.notification.698ba55f-2b69-47f2-a68d-bc303994cff3',InstanceIDStatePatchingMessageName='cytanb.instance_id_state_patching.08504824-2041-42a2-9b2a-97448b4418b0',LOCAL_SHARED_PROPERTY_EXPIRED_KEY='__CYTANB_LOCAL_SHARED_PROPERTY_EXPIRED'})a.SetConstEach(a,{ColorMapSize=a.ColorHueSamples*a.ColorSaturationSamples*a.ColorBrightnessSamples,FatalLogLevel=a.LogLevelFatal,ErrorLogLevel=a.LogLevelError,WarnLogLevel=a.LogLevelWarn,InfoLogLevel=a.LogLevelInfo,DebugLogLevel=a.LogLevelDebug,TraceLogLevel=a.LogLevelTrace})c=a.MakeSearchPattern({'\t','\n','\v','\f','\r',' '},1,-1)d=a.MakeSearchPattern({'sprite=','SPRITE='})e=a.MakeSearchPattern({'0','1','2','3','4','5','6','7','8','9'},1,9)f,g=(function()local fF={'A','B','C','D','E','F','a','b','c','d','e','f','0','1','2','3','4','5','6','7','8','9'}return a.MakeSearchPattern(fF,4,4),a.MakeSearchPattern(fF,8,8)end)()h=a.MakeSearchPattern({'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9','_','-','.','(',')','!','~','*','\'','%'},1,-1)i={{tag=a.NegativeNumberTag,search=a.NegativeNumberTag,replacement=''},{tag=a.ArrayNumberTag,search=a.ArrayNumberTag,replacement=''},{tag=a.SolidusTag,search=a.SolidusTag,replacement='/'},{tag=a.EscapeSequenceTag,search=a.EscapeSequenceTag..a.EscapeSequenceTag,replacement=a.EscapeSequenceTag}}j={[a.ColorTypeName]={compositionFieldNames=a.ListToMap({'r','g','b','a'}),compositionFieldLength=4,toTableFunc=a.ColorToTable,fromTableFunc=a.ColorFromTable},[a.Vector2TypeName]={compositionFieldNames=a.ListToMap({'x','y'}),compositionFieldLength=2,toTableFunc=a.Vector2ToTable,fromTableFunc=a.Vector2FromTable},[a.Vector3TypeName]={compositionFieldNames=a.ListToMap({'x','y','z'}),compositionFieldLength=3,toTableFunc=a.Vector3ToTable,fromTableFunc=a.Vector3FromTable},[a.Vector4TypeName]={compositionFieldNames=a.ListToMap({'x','y','z','w'}),compositionFieldLength=4,toTableFunc=a.Vector4ToTable,fromTableFunc=a.Vector4FromTable},[a.QuaternionTypeName]={compositionFieldNames=a.ListToMap({'x','y','z','w'}),compositionFieldLength=4,toTableFunc=a.QuaternionToTable,fromTableFunc=a.QuaternionFromTable}}k=a.ListToMap({a.NegativeNumberTag,a.ArrayNumberTag})l=a.LogLevelInfo;n={[a.LogLevelFatal]='FATAL',[a.LogLevelError]='ERROR',[a.LogLevelWarn]='WARN',[a.LogLevelInfo]='INFO',[a.LogLevelDebug]='DEBUG',[a.LogLevelTrace]='TRACE'}o=(function()local dD='eff3a188-bfc7-4b0e-93cb-90fd1adc508c'local dJ=_G[dD]if not dJ then dJ={}_G[dD]=dJ end;local fG=dJ.clientID;if type(fG)~='string'then fG=tostring(a.RandomUUID())dJ.clientID=fG end;return fG end)()return a end;if __CYTANB_EXPORT_MODULE then return setmetatable({},{__call=function(self,fH)return b(fH)end})else return b(_ENV)end end)()if __CYTANB_EXPORT_MODULE then return cytanb end
