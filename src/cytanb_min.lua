-- SPDX-License-Identifier: MIT
-- Copyright (c) 2019 oO (https://github.com/oocytanb)
---@type cytanb @See `cytanb_annotations.lua`
local cytanb=(function()local b='__CYTANB_INSTANCE_ID'local c;local d;local e;local f;local g;local h;local i;local j;local k;local l;local m=false;local n;local o;local p;local a;local q=function(r,s)local t=r+s-1;return r,t,t+1 end;local u=function(r,s)local t=r-s+1;return t,r,t-1 end;local v=function(w,x,y,r,z)local A=y.searchMap;for B,s in pairs(y.lengthList)do if s<=0 then error('SearchPattern: Invalid parameter: searchLen <= 0')else local C,D,t=z(r,s)if C>=1 and D<=x then local E=string.sub(w,C,D)if A[E]then return true,s,t end end end end;return false,-1,-1 end;local F=function(w,y,r,z)if w==nil or y==nil then return false,-1 end;if y.hasEmptySearch then return true,0 end;local x=string.len(w)local G=y.repeatMin;local H=y.repeatMax;local I=H<0;local J=r;local K=0;local L=0;while I or L<H do local M,N,t=v(w,x,y,J,z)if M then if N<=0 then error('SearchPattern: Invalid parameter')end;J=t;K=K+N;L=L+1 else break end end;if L>=G then return true,K else return false,-1 end end;local O=function(w,P,r,Q,z,R)if w==nil or P==nil then return false,-1 end;local s=string.len(P)if Q then local M=R(w,P)return M,M and s or-1 else if s==0 then return true,s end;local x=string.len(w)local C,D=z(r,s)if C>=1 and D<=x then local E=string.sub(w,C,D)local M=R(E,P)return M,M and s or-1 else return false,-1 end end end;local S=function(w,T,U)if T<=U then local V=string.unicode(w,T,T)if V>=0xDC00 or V<=0xDFFF then return true,1,V end end;return false,-1,nil end;local W=function(w,T,U,X)if T<=U then local Y,Z=a.StringStartsWith(w,d,T)if Y then local _=T+Z;if _<=U then local a0,a1=a.StringStartsWith(w,e,_)if a0 then local a2=_+a1;if a2<=U and string.unicode(w,a2,a2)==0x3E then local a3=tonumber(string.sub(w,_,_+a1-1))if a3<=X then return true,a2-T+1,a3 end end end end end end;return false,-1,nil end;local a4=function(a5,a6)for a7=1,4 do local a8=a5[a7]-a6[a7]if a8~=0 then return a8 end end;return 0 end;local a9;a9={__eq=function(a5,a6)return a5[1]==a6[1]and a5[2]==a6[2]and a5[3]==a6[3]and a5[4]==a6[4]end,__lt=function(a5,a6)return a4(a5,a6)<0 end,__le=function(a5,a6)return a4(a5,a6)<=0 end,__tostring=function(aa)local ab=aa[2]or 0;local ac=aa[3]or 0;return string.format('%08x-%04x-%04x-%04x-%04x%08x',bit32.band(aa[1]or 0,0xFFFFFFFF),bit32.band(bit32.rshift(ab,16),0xFFFF),bit32.band(ab,0xFFFF),bit32.band(bit32.rshift(ac,16),0xFFFF),bit32.band(ac,0xFFFF),bit32.band(aa[4]or 0,0xFFFFFFFF))end,__concat=function(a5,a6)local ad=getmetatable(a5)local ae=ad==a9 or type(ad)=='table'and ad.__concat==a9.__concat;local af=getmetatable(a6)local ag=af==a9 or type(af)=='table'and af.__concat==a9.__concat;if not ae and not ag then error('UUID: attempt to concatenate illegal values',2)end;return(ae and a9.__tostring(a5)or a5)..(ag and a9.__tostring(a6)or a6)end}local ah='__CYTANB_CONST_VARIABLES'local ai=function(table,aj)local ak=getmetatable(table)if ak then local al=rawget(ak,ah)if al then local am=rawget(al,aj)if type(am)=='function'then return am(table,aj)else return am end end end;return nil end;local an=function(table,aj,ao)local ak=getmetatable(table)if ak then local al=rawget(ak,ah)if al then if rawget(al,aj)~=nil then error('Cannot assign to read only field "'..aj..'"',2)end end end;rawset(table,aj,ao)end;local ap=function(aq,ar)local as=aq[a.TypeParameterName]if a.NillableHasValue(as)and a.NillableValue(as)~=ar then return false,false end;return a.NillableIfHasValueOrElse(j[ar],function(at)local au=at.compositionFieldNames;local av=at.compositionFieldLength;local aw=false;for ax,ao in pairs(aq)do if au[ax]then av=av-1;if av<=0 and aw then break end elseif ax~=a.TypeParameterName then aw=true;if av<=0 then break end end end;return av<=0,aw end,function()return false,false end)end;local ay=function(w)return a.StringReplace(a.StringReplace(w,a.EscapeSequenceTag,a.EscapeSequenceTag..a.EscapeSequenceTag),'/',a.SolidusTag)end;local az=function(w,aA)local aB=string.len(w)local aC=string.len(a.EscapeSequenceTag)if aC>aB then return w end;local aD=''local a7=1;while a7<aB do local D,aE=string.find(w,a.EscapeSequenceTag,a7,true)if not D then if a7==1 then aD=w else aD=aD..string.sub(w,a7)end;break end;if D>a7 then aD=aD..string.sub(w,a7,D-1)end;local aF=false;for aG,aH in ipairs(i)do local M=a.StringStartsWith(w,aH.search,D)if M then aD=aD..(aA and aA(aH.tag)or aH.replacement)a7=D+string.len(aH.search)aF=true;break end end;if not aF then aD=aD..a.EscapeSequenceTag;a7=aE+1 end end;return aD end;local aI;aI=function(aJ,aK)if type(aJ)~='table'then return aJ end;if not aK then aK={}end;if aK[aJ]then error('circular reference')end;aK[aJ]=true;local aL={}for ax,ao in pairs(aJ)do local aM=type(ax)local aN;if aM=='string'then aN=ay(ax)elseif aM=='number'then aN=tostring(ax)..a.ArrayNumberTag else aN=ax end;local aO=type(ao)if aO=='string'then aL[aN]=ay(ao)elseif aO=='number'and ao<0 then aL[tostring(aN)..a.NegativeNumberTag]=tostring(ao)else aL[aN]=aI(ao,aK)end end;aK[aJ]=nil;return aL end;local aP;aP=function(aL,aQ)if type(aL)~='table'then return aL end;local aJ={}for ax,ao in pairs(aL)do local aN;local aR=false;if type(ax)=='string'then local aS=false;aN=az(ax,function(aT)if aT==a.NegativeNumberTag then aR=true elseif aT==a.ArrayNumberTag then aS=true end;return nil end)if aS then aN=tonumber(aN)or aN end else aN=ax;aR=false end;if aR and type(ao)=='string'then aJ[aN]=tonumber(ao)elseif type(ao)=='string'then aJ[aN]=az(ao,function(aT)return k[aT]end)else aJ[aN]=aP(ao,aQ)end end;if not aQ then a.NillableIfHasValue(aJ[a.TypeParameterName],function(aU)a.NillableIfHasValue(j[aU],function(at)local aV,aw=at.fromTableFunc(aJ)if not aw then a.NillableIfHasValue(aV,function(aa)aJ=aa end)end end)end)end;return aJ end;local aW={['nil']=function(aX)return nil end,['number']=function(aX)return tonumber(aX)end,['string']=function(aX)return tostring(aX)end,['boolean']=function(aX)if aX then return true else return false end end}local aY=function(aX,aZ)local a_=type(aX)if a_==aZ then return aX else local b0=aW[aZ]if b0 then return b0(aX)else return nil end end end;local b1=function(b2,b3)if b3 and type(b3)=='table'then local b4={}for aj,aX in pairs(b2)do local b5=b3[aj]local b6;if b5==nil then b6=aX else local b7=aY(b5,type(aX))if b7==nil then b6=aX else b6=b7 end end;b4[aj]=b6 end;b4[a.MessageOriginalSender]=b2;return b4 else return b2 end end;local b8=function(b9,ba,b3,bb)local bc={type=bb,name='',commentSource=''}local bd={[a.MessageValueParameterName]=tostring(ba),[a.MessageSenderOverride]=type(b3)=='table'and a.Extend(bc,b3,true)or bc}a.EmitMessage(b9,bd)end;local be=function(b9,bf,bg)local bh,bi=(function()local b0=function(b2,bj,bd)local ba=tostring(bd[a.MessageValueParameterName]or'')bg(b2,bf,ba)end;local bh=a.OnMessage(b9,b0)local bi=a.OnMessage(bf,b0)return bh,bi end)()return{Off=function()bh.Off()bi.Off()end}end;a={InstanceID=function()if o==''then o=vci.state.Get(b)or''end;return o end,NillableHasValue=function(bk)return bk~=nil end,NillableValue=function(bk)if bk==nil then error('nillable: value is nil',2)end;return bk end,NillableValueOrDefault=function(bk,bl)if bk==nil then if bl==nil then error('nillable: defaultValue is nil',2)end;return bl else return bk end end,NillableIfHasValue=function(bk,bg)if bk==nil then return nil else return bg(bk)end end,NillableIfHasValueOrElse=function(bk,bg,bm)if bk==nil then return bm()else return bg(bk)end end,MakeSearchPattern=function(bn,bo,bp)local G=bo and math.floor(bo)or 1;if G<0 then error('SearchPattern: Invalid parameter: optRepeatMin < 0')end;local H=bp and math.floor(bp)or G;if H>=0 and H<G then error('SearchPattern: Invalid parameter: repeatMax < repeatMin')end;local bq=H==0;local A={}local br={}local bs={}local bt=0;for bu,bv in pairs(bn)do local s=string.len(bv)if s==0 then bq=true else A[bv]=s;if not br[s]then br[s]=true;bt=bt+1;bs[bt]=s end end end;table.sort(bs,function(bw,M)return bw>M end)return{hasEmptySearch=bq,searchMap=A,lengthList=bs,repeatMin=G,repeatMax=H}end,StringStartsWith=function(w,P,bx)local J=bx and math.max(1,math.floor(bx))or 1;if type(P)=='table'then return F(w,P,J,q)else return O(w,P,J,J==1,q,string.startsWith)end end,StringEndsWith=function(w,P,by)if w==nil then return false,-1 end;local x=string.len(w)local J=by and math.min(x,math.floor(by))or x;if type(P)=='table'then return F(w,P,J,u)else return O(w,P,J,J==x,u,string.endsWith)end end,StringTrimStart=function(w,bz)if w==nil or w==''then return w end;local M,N=a.StringStartsWith(w,bz or c)if M and N>=1 then return string.sub(w,N+1)else return w end end,StringTrimEnd=function(w,bz)if w==nil or w==''then return w end;local M,N=a.StringEndsWith(w,bz or c)if M and N>=1 then return string.sub(w,1,string.len(w)-N)else return w end end,StringTrim=function(w,bz)return a.StringTrimEnd(a.StringTrimStart(w,bz),bz)end,StringReplace=function(w,bA,bB)local bC;local aB=string.len(w)if bA==''then bC=bB;for a7=1,aB do bC=bC..string.sub(w,a7,a7)..bB end else bC=''local a7=1;while true do local C,D=string.find(w,bA,a7,true)if C then bC=bC..string.sub(w,a7,C-1)..bB;a7=D+1;if a7>aB then break end else bC=a7==1 and w or bC..string.sub(w,a7)break end end end;return bC end,
StringEachCode=function(w,bg,a7,bD,bE,bF,bG)local aB=string.len(w)if aB==0 then return 0,0,0 end;local bH=a7 and math.floor(a7)or 1;local U=bD and math.floor(bD)or aB;local X=math.min(bG or 3182,0x1FFFFF)if bH<=0 or U>aB or bH>U then error('StringEachCode: invalid range')end;local bI=0;local bJ=bH;local bK=bJ;while bJ<=U do local C=bJ;local V=string.unicode(w,bJ,bJ)if V>=0xD800 and V<=0xDBFF then local M,N=S(w,bJ+1,U)if M then bJ=bJ+N end elseif bE and V==0x3C then local M,N,a3=W(w,bJ+1,U,X)if M and(not bF or bF(a3))then bJ=bJ+N end end;bI=bI+1;bK=bJ;if bg and bg(string.sub(w,C,bJ),C,bJ)==false then break end;bJ=bJ+1 end;return bI,bH,bK end,SetConst=function(bA,b9,aa)if type(bA)~='table'then error('Cannot set const to non-table target',2)end;local bL=getmetatable(bA)local ak=bL or{}local bM=rawget(ak,ah)if rawget(bA,b9)~=nil then error('Non-const field "'..b9 ..'" already exists',2)end;if not bM then bM={}rawset(ak,ah,bM)ak.__index=ai;ak.__newindex=an end;rawset(bM,b9,aa)if not bL then setmetatable(bA,ak)end;return bA end,SetConstEach=function(bA,bN)for ax,ao in pairs(bN)do a.SetConst(bA,ax,ao)end;return bA end,Extend=function(bA,bO,bP,bQ,aK)if bA==bO or type(bA)~='table'or type(bO)~='table'then return bA end;if bP then if not aK then aK={}end;if aK[bO]then error('circular reference')end;aK[bO]=true end;for ax,ao in pairs(bO)do if bP and type(ao)=='table'then local bR=bA[ax]bA[ax]=a.Extend(type(bR)=='table'and bR or{},ao,bP,bQ,aK)else bA[ax]=ao end end;if not bQ then local bS=getmetatable(bO)if type(bS)=='table'then if bP then local bT=getmetatable(bA)setmetatable(bA,a.Extend(type(bT)=='table'and bT or{},bS,true))else setmetatable(bA,bS)end end end;if bP then aK[bO]=nil end;return bA end,Vars=function(ao,bU,bV,aK)local bW;if bU then bW=bU~='__NOLF'else bU='  'bW=true end;if not bV then bV=''end;if not aK then aK={}end;local bX=type(ao)if bX=='table'then aK[ao]=aK[ao]and aK[ao]+1 or 1;local bY=bW and bV..bU or''local w='('..tostring(ao)..') {'local bZ=true;for aj,aX in pairs(ao)do if bZ then bZ=false else w=w..(bW and','or', ')end;if bW then w=w..'\n'..bY end;if type(aX)=='table'and aK[aX]and aK[aX]>0 then w=w..aj..' = ('..tostring(aX)..')'else w=w..aj..' = '..a.Vars(aX,bU,bY,aK)end end;if not bZ and bW then w=w..'\n'..bV end;w=w..'}'aK[ao]=aK[ao]-1;if aK[ao]<=0 then aK[ao]=nil end;return w elseif bX=='function'or bX=='thread'or bX=='userdata'then return'('..bX..')'elseif bX=='string'then return'('..bX..') '..string.format('%q',ao)else return'('..bX..') '..tostring(ao)end end,GetLogLevel=function()return l end,SetLogLevel=function(b_)l=b_ end,IsOutputLogLevelEnabled=function()return m end,SetOutputLogLevelEnabled=function(c0)m=not not c0 end,Log=function(b_,...)if b_<=l then local c1=m and(n[b_]or'LOG LEVEL '..tostring(b_))..' | 'or''local c2=table.pack(...)if c2.n==1 then local ao=c2[1]if ao~=nil then local w=type(ao)=='table'and a.Vars(ao)or tostring(ao)print(m and c1 ..w or w)else print(c1)end else local w=c1;for a7=1,c2.n do local ao=c2[a7]if ao~=nil then w=w..(type(ao)=='table'and a.Vars(ao)or tostring(ao))end end;print(w)end end end,LogFatal=function(...)a.Log(a.LogLevelFatal,...)end,LogError=function(...)a.Log(a.LogLevelError,...)end,LogWarn=function(...)a.Log(a.LogLevelWarn,...)end,LogInfo=function(...)a.Log(a.LogLevelInfo,...)end,LogDebug=function(...)a.Log(a.LogLevelDebug,...)end,LogTrace=function(...)a.Log(a.LogLevelTrace,...)end,FatalLog=function(...)a.LogFatal(...)end,ErrorLog=function(...)a.LogError(...)end,WarnLog=function(...)a.LogWarn(...)end,InfoLog=function(...)a.LogInfo(...)end,DebugLog=function(...)a.LogDebug(...)end,TraceLog=function(...)a.LogTrace(...)end,ListToMap=function(c3,c4)local c5={}if c4==nil then for ax,ao in pairs(c3)do c5[ao]=ao end elseif type(c4)=='function'then for ax,ao in pairs(c3)do local c6,c7=c4(ao)c5[c6]=c7 end else for ax,ao in pairs(c3)do c5[ao]=c4 end end;return c5 end,Round=function(c8,c9)if c9 then local ca=10^c9;return math.floor(c8*ca+0.5)/ca else return math.floor(c8+0.5)end end,Clamp=function(aa,cb,cc)return math.max(cb,math.min(aa,cc))end,Lerp=function(bw,M,bX)if bX<=0.0 then return bw elseif bX>=1.0 then return M else return bw+(M-bw)*bX end end,LerpUnclamped=function(bw,M,bX)if bX==0.0 then return bw elseif bX==1.0 then return M else return bw+(M-bw)*bX end end,PingPong=function(bX,cd)if cd==0 then return 0,1 end;local ce=math.floor(bX/cd)local cf=bX-ce*cd;if ce<0 then if(ce+1)%2==0 then return cd-cf,-1 else return cf,1 end else if ce%2==0 then return cf,1 else return cd-cf,-1 end end end,VectorApproximatelyEquals=function(cg,ch)return(cg-ch).sqrMagnitude<1E-10 end,QuaternionApproximatelyEquals=function(cg,ch)local ci=Quaternion.Dot(cg,ch)return ci<1.0+1E-06 and ci>1.0-1E-06 end,QuaternionToAngleAxis=function(cj)local ce=cj.normalized;local ck=math.acos(ce.w)local cl=math.sin(ck)local cm=math.deg(ck*2.0)local cn;if math.abs(cl)<=Quaternion.kEpsilon then cn=Vector3.right else local C=1.0/cl;cn=Vector3.__new(ce.x*C,ce.y*C,ce.z*C)end;return cm,cn end,QuaternionTwist=function(cj,co)if co.sqrMagnitude<Vector3.kEpsilonNormalSqrt then return Quaternion.identity end;local cp=Vector3.__new(cj.x,cj.y,cj.z)if cp.sqrMagnitude>=Vector3.kEpsilonNormalSqrt then local cq=Vector3.Project(cp,co)if cq.sqrMagnitude>=Vector3.kEpsilonNormalSqrt then local cr=Quaternion.__new(cq.x,cq.y,cq.z,cj.w)cr.Normalize()return cr else return Quaternion.AngleAxis(0,co)end else local cs=a.QuaternionToAngleAxis(cj)return Quaternion.AngleAxis(cs,co)end end,ApplyQuaternionToVector3=function(cj,ct)local cu=cj.w*ct.x+cj.y*ct.z-cj.z*ct.y;local cv=cj.w*ct.y-cj.x*ct.z+cj.z*ct.x;local cw=cj.w*ct.z+cj.x*ct.y-cj.y*ct.x;local cx=-cj.x*ct.x-cj.y*ct.y-cj.z*ct.z;return Vector3.__new(cx*-cj.x+cu*cj.w+cv*-cj.z-cw*-cj.y,cx*-cj.y-cu*-cj.z+cv*cj.w+cw*-cj.x,cx*-cj.z+cu*-cj.y-cv*-cj.x+cw*cj.w)end,RotateAround=function(cy,cz,cA,cB)return cA+cB*(cy-cA),cB*cz end,Random32=function()return bit32.band(math.random(-2147483648,2147483646),0xFFFFFFFF)end,RandomUUID=function()return a.UUIDFromNumbers(a.Random32(),bit32.bor(0x4000,bit32.band(a.Random32(),0xFFFF0FFF)),bit32.bor(0x80000000,bit32.band(a.Random32(),0x3FFFFFFF)),a.Random32())end,UUIDString=function(cC)return a9.__tostring(cC)end,UUIDFromNumbers=function(...)local cD=...local bX=type(cD)local cE,cF,cG,cH;if bX=='table'then cE=cD[1]cF=cD[2]cG=cD[3]cH=cD[4]else cE,cF,cG,cH=...end;local cC={bit32.band(cE or 0,0xFFFFFFFF),bit32.band(cF or 0,0xFFFFFFFF),bit32.band(cG or 0,0xFFFFFFFF),bit32.band(cH or 0,0xFFFFFFFF)}setmetatable(cC,a9)return cC end,UUIDFromString=function(w)local aB=string.len(w)if aB==32 then local cC=a.UUIDFromNumbers(0,0,0,0)for a7=1,4 do local C=1+(a7-1)*8;if not a.StringStartsWith(w,g,C)then return nil end;cC[a7]=tonumber(string.sub(w,C,C+7),16)end;return cC elseif aB==36 then if not a.StringStartsWith(w,g,1)then return nil end;local cE=tonumber(string.sub(w,1,8),16)if not a.StringStartsWith(w,'-',9)or not a.StringStartsWith(w,f,10)or not a.StringStartsWith(w,'-',14)or not a.StringStartsWith(w,f,15)then return nil end;local cF=tonumber(string.sub(w,10,13)..string.sub(w,15,18),16)if not a.StringStartsWith(w,'-',19)or not a.StringStartsWith(w,f,20)or not a.StringStartsWith(w,'-',24)or not a.StringStartsWith(w,f,25)then return nil end;local cG=tonumber(string.sub(w,20,23)..string.sub(w,25,28),16)if not a.StringStartsWith(w,g,29)then return nil end;local cH=tonumber(string.sub(w,29),16)return a.UUIDFromNumbers(cE,cF,cG,cH)else return nil end end,ParseUUID=function(w)return a.UUIDFromString(w)end,CreateCircularQueue=function(cI)if type(cI)~='number'or cI<1 then error('CreateCircularQueue: Invalid argument: capacity = '..tostring(cI),2)end;local self;local cJ=math.floor(cI)local aD={}local cK=0;local cL=0;local cM=0;self={Size=function()return cM end,Clear=function()cK=0;cL=0;cM=0 end,IsEmpty=function()return cM==0 end,Offer=function(cN)aD[cK+1]=cN;cK=(cK+1)%cJ;if cM<cJ then cM=cM+1 else cL=(cL+1)%cJ end;return true end,OfferFirst=function(cN)cL=(cJ+cL-1)%cJ;aD[cL+1]=cN;if cM<cJ then cM=cM+1 else cK=(cJ+cK-1)%cJ end;return true end,Poll=function()if cM==0 then return nil else local cN=aD[cL+1]cL=(cL+1)%cJ;cM=cM-1;return cN end end,PollLast=function()if cM==0 then return nil else cK=(cJ+cK-1)%cJ;local cN=aD[cK+1]cM=cM-1;return cN end end,Peek=function()if cM==0 then return nil else return aD[cL+1]end end,PeekLast=function()if cM==0 then return nil else return aD[(cJ+cK-1)%cJ+1]end end,Get=function(cO)if cO<1 or cO>cM then a.LogError('CreateCircularQueue.Get: index is outside the range: '..cO)return nil end;return aD[(cL+cO-1)%cJ+1]end,IsFull=function()return cM>=cJ end,MaxSize=function()return cJ end}return self end,DetectClicks=function(cP,cQ,cR)local bI=cP or 0;local cS=cR or TimeSpan.FromMilliseconds(500)local cT=vci.me.Time;local cU=cQ and cT>cQ+cS and 1 or bI+1;return cU,cT end,ColorRGBToHSV=function(cV)local cf=math.max(0.0,math.min(cV.r,1.0))local cW=math.max(0.0,math.min(cV.g,1.0))local M=math.max(0.0,math.min(cV.b,1.0))local cc=math.max(cf,cW,M)local cb=math.min(cf,cW,M)local cX=cc-cb;local am;if cX==0.0 then am=0.0 elseif cc==cf then am=(cW-M)/cX/6.0 elseif cc==cW then am=(2.0+(M-cf)/cX)/6.0 else am=(4.0+(cf-cW)/cX)/6.0 end;if am<0.0 then am=am+1.0 end;local cY=cc==0.0 and cX or cX/cc;local ao=cc;return am,cY,ao end,ColorFromARGB32=function(cZ)local c_=type(cZ)=='number'and cZ or 0xFF000000;return Color.__new(bit32.band(bit32.rshift(c_,16),0xFF)/0xFF,bit32.band(bit32.rshift(c_,8),0xFF)/0xFF,bit32.band(c_,0xFF)/0xFF,bit32.band(bit32.rshift(c_,24),0xFF)/0xFF)end,ColorToARGB32=function(cV)return bit32.bor(bit32.lshift(bit32.band(a.Round(0xFF*cV.a),0xFF),24),bit32.lshift(bit32.band(a.Round(0xFF*cV.r),0xFF),16),bit32.lshift(bit32.band(a.Round(0xFF*cV.g),0xFF),8),bit32.band(a.Round(0xFF*cV.b),0xFF))end,
ColorFromIndex=function(d0,d1,d2,d3,d4)local d5=math.max(math.floor(d1 or a.ColorHueSamples),1)local d6=d4 and d5 or d5-1;local d7=math.max(math.floor(d2 or a.ColorSaturationSamples),1)local d8=math.max(math.floor(d3 or a.ColorBrightnessSamples),1)local cO=a.Clamp(math.floor(d0 or 0),0,d5*d7*d8-1)local d9=cO%d5;local da=math.floor(cO/d5)local C=da%d7;local db=math.floor(da/d7)if d4 or d9~=d6 then local am=d9/d6;local cY=(d7-C)/d7;local ao=(d8-db)/d8;return Color.HSVToRGB(am,cY,ao)else local ao=(d8-db)/d8*C/(d7-1)return Color.HSVToRGB(0.0,0.0,ao)end end,ColorToIndex=function(cV,d1,d2,d3,d4)local d5=math.max(math.floor(d1 or a.ColorHueSamples),1)local d6=d4 and d5 or d5-1;local d7=math.max(math.floor(d2 or a.ColorSaturationSamples),1)local d8=math.max(math.floor(d3 or a.ColorBrightnessSamples),1)local am,cY,ao=a.ColorRGBToHSV(cV)local C=a.Round(d7*(1.0-cY))if d4 or C<d7 then local dc=a.Round(d6*am)if dc>=d6 then dc=0 end;if C>=d7 then C=d7-1 end;local db=math.min(d8-1,a.Round(d8*(1.0-ao)))return dc+d5*(C+d7*db)else local dd=a.Round((d7-1)*ao)if dd==0 then local de=a.Round(d8*(1.0-ao))if de>=d8 then return d5-1 else return d5*(1+a.Round(ao*(d7-1)/(d8-de)*d8)+d7*de)-1 end else return d5*(1+dd+d7*a.Round(d8*(1.0-ao*(d7-1)/dd)))-1 end end end,ColorToTable=function(cV)return{[a.TypeParameterName]=a.ColorTypeName,r=cV.r,g=cV.g,b=cV.b,a=cV.a}end,ColorFromTable=function(aq)local M,aw=ap(aq,a.ColorTypeName)return M and Color.__new(aq.r,aq.g,aq.b,aq.a)or nil,aw end,Vector2ToTable=function(aa)return{[a.TypeParameterName]=a.Vector2TypeName,x=aa.x,y=aa.y}end,Vector2FromTable=function(aq)local M,aw=ap(aq,a.Vector2TypeName)return M and Vector2.__new(aq.x,aq.y)or nil,aw end,Vector3ToTable=function(aa)return{[a.TypeParameterName]=a.Vector3TypeName,x=aa.x,y=aa.y,z=aa.z}end,Vector3FromTable=function(aq)local M,aw=ap(aq,a.Vector3TypeName)return M and Vector3.__new(aq.x,aq.y,aq.z)or nil,aw end,Vector4ToTable=function(aa)return{[a.TypeParameterName]=a.Vector4TypeName,x=aa.x,y=aa.y,z=aa.z,w=aa.w}end,Vector4FromTable=function(aq)local M,aw=ap(aq,a.Vector4TypeName)return M and Vector4.__new(aq.x,aq.y,aq.z,aq.w)or nil,aw end,QuaternionToTable=function(aa)return{[a.TypeParameterName]=a.QuaternionTypeName,x=aa.x,y=aa.y,z=aa.z,w=aa.w}end,QuaternionFromTable=function(aq)local M,aw=ap(aq,a.QuaternionTypeName)return M and Quaternion.__new(aq.x,aq.y,aq.z,aq.w)or nil,aw end,TableToSerializable=function(aJ)return aI(aJ)end,TableFromSerializable=function(aL,aQ)return aP(aL,aQ)end,TableToSerialiable=function(aJ)return aI(aJ)end,TableFromSerialiable=function(aL,aQ)return aP(aL,aQ)end,EmitMessage=function(b9,bd)local aL=a.NillableIfHasValueOrElse(bd,function(aJ)if type(aJ)~='table'then error('EmitMessage: Invalid argument: table expected',3)end;return a.TableToSerializable(aJ)end,function()return{}end)aL[a.InstanceIDParameterName]=a.InstanceID()vci.message.Emit(b9,json.serialize(aL))end,OnMessage=function(b9,bg)local b0=function(b2,bj,ba)if type(ba)=='string'and string.startsWith(ba,'{')then local df,aL=pcall(json.parse,ba)if df and type(aL)=='table'and aL[a.InstanceIDParameterName]then local dg=a.TableFromSerializable(aL)bg(b1(b2,dg[a.MessageSenderOverride]),bj,dg)return end end;bg(b2,bj,{[a.MessageValueParameterName]=ba})end;vci.message.On(b9,b0)return{Off=function()if b0 then b0=nil end end}end,OnInstanceMessage=function(b9,bg)local b0=function(b2,bj,bd)local dh=a.InstanceID()if dh~=''and dh==bd[a.InstanceIDParameterName]then bg(b2,bj,bd)end end;return a.OnMessage(b9,b0)end,EmitCommentMessage=function(ba,b3)b8(a.DedicatedCommentMessageName,ba,b3,'comment')end,OnCommentMessage=function(bg)return be(a.DedicatedCommentMessageName,'comment',bg)end,EmitNotificationMessage=function(ba,b3)b8(a.DedicatedNotificationMessageName,ba,b3,'notification')end,OnNotificationMessage=function(bg)return be(a.DedicatedNotificationMessageName,'notification',bg)end,GetEffekseerEmitterMap=function(b9)local di=vci.assets.GetEffekseerEmitters(b9)if not di then return nil end;local c5={}for a7,dj in pairs(di)do c5[dj.EffectName]=dj end;return c5 end,ClientID=function()return p end,ParseTagString=function(w)local bJ=string.find(w,'#',1,true)if not bJ then return{},w end;local dk={}local dl=string.sub(w,1,bJ-1)bJ=bJ+1;local aB=string.len(w)while bJ<=aB do local dm,dn=a.StringStartsWith(w,h,bJ)if dm then local dp=bJ+dn;local dq=string.sub(w,bJ,dp-1)local dr=dq;bJ=dp;if bJ<=aB and a.StringStartsWith(w,'=',bJ)then bJ=bJ+1;local ds,dt=a.StringStartsWith(w,h,bJ)if ds then local du=bJ+dt;dr=string.sub(w,bJ,du-1)bJ=du else dr=''end end;dk[dq]=dr end;bJ=string.find(w,'#',bJ,true)if not bJ then break end;bJ=bJ+1 end;return dk,dl end,CalculateSIPrefix=(function()local dv=9;local dw={'y','z','a','f','p','n','u','m','','k','M','G','T','P','E','Z','Y'}local dx=#dw;return function(c8)local dy=c8==0 and 0 or a.Clamp(math.floor(math.log(math.abs(c8),1000)),1-dv,dx-dv)return dy==0 and c8 or c8/1000^dy,dw[dv+dy],dy*3 end end)(),CreateLocalSharedProperties=function(dz,dA)local dB=TimeSpan.FromSeconds(5)local dC='33657f0e-7c44-4ee7-acd9-92dd8b8d807a'local dD='__CYTANB_LOCAL_SHARED_PROPERTIES_LISTENER_MAP'if type(dz)~='string'or string.len(dz)<=0 or type(dA)~='string'or string.len(dA)<=0 then error('LocalSharedProperties: Invalid arguments',2)end;local dE=_G[dC]if not dE then dE={}_G[dC]=dE end;dE[dA]=vci.me.UnscaledTime;local dF=_G[dz]if not dF then dF={[dD]={}}_G[dz]=dF end;local dG=dF[dD]local self;self={GetLspID=function()return dz end,GetLoadID=function()return dA end,GetProperty=function(aj,bl)local aa=dF[aj]if aa==nil then return bl else return aa end end,SetProperty=function(aj,aa)if aj==dD then error('LocalSharedProperties: Invalid argument: key = ',aj,2)end;local cT=vci.me.UnscaledTime;local dH=dF[aj]dF[aj]=aa;for dI,dh in pairs(dG)do local bX=dE[dh]if bX and bX+dB>=cT then dI(self,aj,aa,dH)else dI(self,a.LOCAL_SHARED_PROPERTY_EXPIRED_KEY,true,false)dG[dI]=nil;dE[dh]=nil end end end,Clear=function()for aj,aa in pairs(dF)do if aj~=dD then self.SetProperty(aj,nil)end end end,Each=function(bg)for aj,aa in pairs(dF)do if aj~=dD and bg(aa,aj,self)==false then return false end end end,AddListener=function(dI)dG[dI]=dA end,RemoveListener=function(dI)dG[dI]=nil end,UpdateAlive=function()dE[dA]=vci.me.UnscaledTime end}return self end,EstimateFixedTimestep=function(dJ)local dK=1.0;local dL=1000.0;local dM=TimeSpan.FromSeconds(0.02)local dN=0xFFFF;local dO=a.CreateCircularQueue(64)local dP=TimeSpan.FromSeconds(5)local dQ=TimeSpan.FromSeconds(30)local dR=false;local dS=vci.me.Time;local dT=a.Random32()local dU=Vector3.__new(bit32.bor(0x400,bit32.band(dT,0x1FFF)),bit32.bor(0x400,bit32.band(bit32.rshift(dT,16),0x1FFF)),0.0)dJ.SetPosition(dU)dJ.SetRotation(Quaternion.identity)dJ.SetVelocity(Vector3.zero)dJ.SetAngularVelocity(Vector3.zero)dJ.AddForce(Vector3.__new(0.0,0.0,dK*dL))local self={Timestep=function()return dM end,Precision=function()return dN end,IsFinished=function()return dR end,Update=function()if dR then return dM end;local dV=vci.me.Time-dS;local dW=dV.TotalSeconds;if dW<=Vector3.kEpsilon then return dM end;local dX=dJ.GetPosition().z-dU.z;local dY=dX/dW;local dZ=dY/dL;if dZ<=Vector3.kEpsilon then return dM end;dO.Offer(dZ)local d_=dO.Size()if d_>=2 and dV>=dP then local e0=0.0;for a7=1,d_ do e0=e0+dO.Get(a7)end;local e1=e0/d_;local e2=0.0;for a7=1,d_ do e2=e2+(dO.Get(a7)-e1)^2 end;local e3=e2/d_;if e3<dN then dN=e3;dM=TimeSpan.FromSeconds(e1)end;if dV>dQ then dR=true;dJ.SetPosition(dU)dJ.SetRotation(Quaternion.identity)dJ.SetVelocity(Vector3.zero)dJ.SetAngularVelocity(Vector3.zero)end else dM=TimeSpan.FromSeconds(dZ)end;return dM end}return self end,AlignSubItemOrigin=function(e4,e5,e6)local e7=e4.GetRotation()if not a.QuaternionApproximatelyEquals(e5.GetRotation(),e7)then e5.SetRotation(e7)end;local e8=e4.GetPosition()if not a.VectorApproximatelyEquals(e5.GetPosition(),e8)then e5.SetPosition(e8)end;if e6 then e5.SetVelocity(Vector3.zero)e5.SetAngularVelocity(Vector3.zero)end end,CreateSubItemGlue=function()local e9={}local self;self={Contains=function(ea,eb)return a.NillableIfHasValueOrElse(e9[ea],function(bN)return a.NillableHasValue(bN[eb])end,function()return false end)end,Add=function(ea,ec,e6)if not ea or not ec then local ed='SubItemGlue.Add: Invalid arguments '..(not ea and', parent = '..tostring(ea)or'')..(not ec and', children = '..tostring(ec)or'')error(ed,2)end;local bN=a.NillableIfHasValueOrElse(e9[ea],function(ee)return ee end,function()local ee={}e9[ea]=ee;return ee end)if type(ec)=='table'then for aj,aX in pairs(ec)do bN[aX]={velocityReset=not not e6}end else bN[ec]={velocityReset=not not e6}end end,Remove=function(ea,eb)return a.NillableIfHasValueOrElse(e9[ea],function(bN)if a.NillableHasValue(bN[eb])then bN[eb]=nil;return true else return false end end,function()return false end)end,RemoveParent=function(ea)if a.NillableHasValue(e9[ea])then e9[ea]=nil;return true else return false end end,RemoveAll=function()e9={}return true end,Each=function(bg,ef)return a.NillableIfHasValueOrElse(ef,function(ea)return a.NillableIfHasValue(e9[ea],function(bN)for eb,eg in pairs(bN)do if bg(eb,ea,self)==false then return false end end end)end,function()for ea,bN in pairs(e9)do if self.Each(bg,ea)==false then return false end end end)end,Update=function(eh)for ea,bN in pairs(e9)do local ei=ea.GetPosition()local ej=ea.GetRotation()for eb,eg in pairs(bN)do if eh or eb.IsMine then if not a.QuaternionApproximatelyEquals(eb.GetRotation(),ej)then eb.SetRotation(ej)end;if not a.VectorApproximatelyEquals(eb.GetPosition(),ei)then eb.SetPosition(ei)end;if eg.velocityReset then eb.SetVelocity(Vector3.zero)eb.SetAngularVelocity(Vector3.zero)end end end end end}return self end,
CreateUpdateRoutine=function(ek,el)return coroutine.wrap(function()local em=TimeSpan.FromSeconds(30)local en=vci.me.UnscaledTime;local eo=en;local cQ=vci.me.Time;local ep=true;while true do local dh=a.InstanceID()if dh~=''then break end;local eq=vci.me.UnscaledTime;if eq-em>en then a.LogError('TIMEOUT: Could not receive Instance ID.')return-1 end;eo=eq;cQ=vci.me.Time;ep=false;coroutine.yield(100)end;if ep then eo=vci.me.UnscaledTime;cQ=vci.me.Time;coroutine.yield(100)end;a.NillableIfHasValue(el,function(er)er()end)while true do local cT=vci.me.Time;local es=cT-cQ;local eq=vci.me.UnscaledTime;local et=eq-eo;ek(es,et)cQ=cT;eo=eq;coroutine.yield(100)end end)end,CreateSlideSwitch=function(eu)local ev=a.NillableValue(eu.colliderItem)local ew=a.NillableValue(eu.baseItem)local ex=a.NillableValue(eu.knobItem)local ey=a.NillableValueOrDefault(eu.minValue,0)local ez=a.NillableValueOrDefault(eu.maxValue,10)if ey>=ez then error('SlideSwitch: Invalid argument: minValue >= maxValue',2)end;local eA=(ey+ez)*0.5;local eB=function(aX)local eC,eD=a.PingPong(aX-ey,ez-ey)return eC+ey,eD end;local aa=eB(a.NillableValueOrDefault(eu.value,0))local eE=a.NillableIfHasValueOrElse(eu.tickFrequency,function(eF)if eF<=0 then error('SlideSwitch: Invalid argument: tickFrequency <= 0',3)end;return math.min(eF,ez-ey)end,function()return(ez-ey)/10.0 end)local eG=a.NillableIfHasValueOrElse(eu.tickVector,function(cn)return Vector3.__new(cn.x,cn.y,cn.z)end,function()return Vector3.__new(0.01,0.0,0.0)end)local eH=eG.magnitude;if eH<Vector3.kEpsilon then error('SlideSwitch: Invalid argument: tickVector is too small',2)end;local eI=a.NillableValueOrDefault(eu.snapToTick,true)local eJ=eu.valueTextName;local eK=a.NillableValueOrDefault(eu.valueToText,tostring)local eL=TimeSpan.FromMilliseconds(1000)local eM=TimeSpan.FromMilliseconds(50)local eN,eO;local dG={}local self;local eP=false;local eQ=0;local eR=false;local eS=TimeSpan.Zero;local eT=TimeSpan.Zero;local eU=function(eV,eW)if eW or eV~=aa then local dH=aa;aa=eV;for dI,ao in pairs(dG)do dI(self,aa,dH)end end;ex.SetLocalPosition((eV-eA)/eE*eG)if eJ then vci.assets.SetText(eJ,eK(eV,self))end end;local eX=function()local eY=eN()local eZ,e_=eB(eY)local f0=eY+eE;local f1,f2=eB(f0)assert(f1)local eV;if e_==f2 or eZ==ez or eZ==ey then eV=f0 else eV=e_>=0 and ez or ey end;eT=vci.me.UnscaledTime;if eV==ez or eV==ey then eS=eT end;eO(eV)end;a.NillableIfHasValueOrElse(eu.lsp,function(f3)if not a.NillableHasValue(eu.propertyName)then error('SlideSwitch: Invalid argument: propertyName is nil',3)end;local f4=a.NillableValue(eu.propertyName)eN=function()return f3.GetProperty(f4,aa)end;eO=function(aX)f3.SetProperty(f4,aX)end;f3.AddListener(function(bO,aj,f5,f6)if aj==f4 then eU(eB(f5),true)end end)end,function()local f5=aa;eN=function()return f5 end;eO=function(aX)f5=aX;eU(eB(aX),true)end end)self={GetColliderItem=function()return ev end,GetBaseItem=function()return ew end,GetKnobItem=function()return ex end,GetMinValue=function()return ey end,GetMaxValue=function()return ez end,GetValue=function()return aa end,GetScaleValue=function(f7,f8)assert(f7<=f8)return f7+(f8-f7)*(aa-ey)/(ez-ey)end,SetValue=function(aX)eO(eB(aX))end,GetTickFrequency=function()return eE end,IsSnapToTick=function()return eI end,AddListener=function(dI)dG[dI]=dI end,RemoveListener=function(dI)dG[dI]=nil end,DoUse=function()if not eP then eR=true;eS=vci.me.UnscaledTime;eX()end end,DoUnuse=function()eR=false end,DoGrab=function()if not eR then eP=true;eQ=(aa-eA)/eE end end,DoUngrab=function()eP=false end,Update=function()if eP then local f9=ev.GetPosition()-ew.GetPosition()local fa=ex.GetRotation()*eG;local fb=Vector3.Project(f9,fa)local fc=(Vector3.Dot(fa,fb)>=0 and 1 or-1)*fb.magnitude/eH+eQ;local fd=(eI and a.Round(fc)or fc)*eE+eA;local eV=a.Clamp(fd,ey,ez)if eV~=aa then eO(eV)end elseif eR then local fe=vci.me.UnscaledTime;if fe>=eS+eL and fe>=eT+eM then eX()end elseif ev.IsMine then a.AlignSubItemOrigin(ew,ev)end end}eU(eB(eN()),false)return self end,CreateSubItemConnector=function()local ff=function(fg,e5,fh)fg.item=e5;fg.position=e5.GetPosition()fg.rotation=e5.GetRotation()fg.initialPosition=fg.position;fg.initialRotation=fg.rotation;fg.propagation=not not fh;return fg end;local fi=function(fj)for e5,fg in pairs(fj)do ff(fg,e5,fg.propagation)end end;local fk=function(r,cB,fg,fl,fm)local f9=r-fg.initialPosition;local fn=cB*Quaternion.Inverse(fg.initialRotation)fg.position=r;fg.rotation=cB;for e5,fo in pairs(fl)do if e5~=fg.item and(not fm or fm(fo))then fo.position,fo.rotation=a.RotateAround(fo.initialPosition+f9,fo.initialRotation,r,fn)e5.SetPosition(fo.position)e5.SetRotation(fo.rotation)end end end;local fp={}local fq=true;local fr=false;local self;self={IsEnabled=function()return fq end,SetEnabled=function(c0)fq=c0;if c0 then fi(fp)fr=false end end,Contains=function(fs)return a.NillableHasValue(fp[fs])end,Add=function(ft,fu)if not ft then error('SubItemConnector.Add: Invalid argument: subItems = '..tostring(ft),2)end;local fv=type(ft)=='table'and ft or{ft}fi(fp)fr=false;for ax,e5 in pairs(fv)do fp[e5]=ff({},e5,not fu)end end,Remove=function(fs)local M=a.NillableHasValue(fp[fs])fp[fs]=nil;return M end,RemoveAll=function()fp={}return true end,Each=function(bg)for e5,fg in pairs(fp)do if bg(e5,self)==false then return false end end end,GetItems=function()local fv={}for e5,fg in pairs(fp)do table.insert(fv,e5)end;return fv end,Update=function()if not fq then return end;local fw=false;for e5,fg in pairs(fp)do local bJ=e5.GetPosition()local fx=e5.GetRotation()if not a.VectorApproximatelyEquals(bJ,fg.position)or not a.QuaternionApproximatelyEquals(fx,fg.rotation)then if fg.propagation then if e5.IsMine then fk(bJ,fx,fp[e5],fp,function(fo)if fo.item.IsMine then return true else fr=true;return false end end)fw=true;break else fr=true end else fr=true end end end;if not fw and fr then fi(fp)fr=false end end}return self end,GetSubItemTransform=function(fs)local r=fs.GetPosition()local cB=fs.GetRotation()local fy=fs.GetLocalScale()return{positionX=r.x,positionY=r.y,positionZ=r.z,rotationX=cB.x,rotationY=cB.y,rotationZ=cB.z,rotationW=cB.w,scaleX=fy.x,scaleY=fy.y,scaleZ=fy.z}end}a.SetConstEach(a,{LogLevelOff=0,LogLevelFatal=100,LogLevelError=200,LogLevelWarn=300,LogLevelInfo=400,LogLevelDebug=500,LogLevelTrace=600,LogLevelAll=0x7FFFFFFF,ColorHueSamples=10,ColorSaturationSamples=4,ColorBrightnessSamples=5,EscapeSequenceTag='#__CYTANB',SolidusTag='#__CYTANB_SOLIDUS',NegativeNumberTag='#__CYTANB_NEGATIVE_NUMBER',ArrayNumberTag='#__CYTANB_ARRAY_NUMBER',InstanceIDParameterName='__CYTANB_INSTANCE_ID',MessageValueParameterName='__CYTANB_MESSAGE_VALUE',MessageSenderOverride='__CYTANB_MESSAGE_SENDER_OVERRIDE',MessageOriginalSender='__CYTANB_MESSAGE_ORIGINAL_SENDER',TypeParameterName='__CYTANB_TYPE',ColorTypeName='Color',Vector2TypeName='Vector2',Vector3TypeName='Vector3',Vector4TypeName='Vector4',QuaternionTypeName='Quaternion',DedicatedCommentMessageName='cytanb.comment.a2a6a035-6b8d-4e06-b4f9-07e6209b0639',DedicatedNotificationMessageName='cytanb.notification.698ba55f-2b69-47f2-a68d-bc303994cff3',LOCAL_SHARED_PROPERTY_EXPIRED_KEY='__CYTANB_LOCAL_SHARED_PROPERTY_EXPIRED'})a.SetConstEach(a,{ColorMapSize=a.ColorHueSamples*a.ColorSaturationSamples*a.ColorBrightnessSamples,FatalLogLevel=a.LogLevelFatal,ErrorLogLevel=a.LogLevelError,WarnLogLevel=a.LogLevelWarn,InfoLogLevel=a.LogLevelInfo,DebugLogLevel=a.LogLevelDebug,TraceLogLevel=a.LogLevelTrace})c=a.MakeSearchPattern({'\t','\n','\v','\f','\r',' '},1,-1)d=a.MakeSearchPattern({'sprite=','SPRITE='})e=a.MakeSearchPattern({'0','1','2','3','4','5','6','7','8','9'},1,9)f,g=(function()local fz={'A','B','C','D','E','F','a','b','c','d','e','f','0','1','2','3','4','5','6','7','8','9'}return a.MakeSearchPattern(fz,4,4),a.MakeSearchPattern(fz,8,8)end)()h=a.MakeSearchPattern({'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9','_','-','.','(',')','!','~','*','\'','%'},1,-1)i={{tag=a.NegativeNumberTag,search=a.NegativeNumberTag,replacement=''},{tag=a.ArrayNumberTag,search=a.ArrayNumberTag,replacement=''},{tag=a.SolidusTag,search=a.SolidusTag,replacement='/'},{tag=a.EscapeSequenceTag,search=a.EscapeSequenceTag..a.EscapeSequenceTag,replacement=a.EscapeSequenceTag}}j={[a.ColorTypeName]={compositionFieldNames=a.ListToMap({'r','g','b','a'}),compositionFieldLength=4,toTableFunc=a.ColorToTable,fromTableFunc=a.ColorFromTable},[a.Vector2TypeName]={compositionFieldNames=a.ListToMap({'x','y'}),compositionFieldLength=2,toTableFunc=a.Vector2ToTable,fromTableFunc=a.Vector2FromTable},[a.Vector3TypeName]={compositionFieldNames=a.ListToMap({'x','y','z'}),compositionFieldLength=3,toTableFunc=a.Vector3ToTable,fromTableFunc=a.Vector3FromTable},[a.Vector4TypeName]={compositionFieldNames=a.ListToMap({'x','y','z','w'}),compositionFieldLength=4,toTableFunc=a.Vector4ToTable,fromTableFunc=a.Vector4FromTable},[a.QuaternionTypeName]={compositionFieldNames=a.ListToMap({'x','y','z','w'}),compositionFieldLength=4,toTableFunc=a.QuaternionToTable,fromTableFunc=a.QuaternionFromTable}}k=a.ListToMap({a.NegativeNumberTag,a.ArrayNumberTag})l=a.LogLevelInfo;n={[a.LogLevelFatal]='FATAL',[a.LogLevelError]='ERROR',[a.LogLevelWarn]='WARN',[a.LogLevelInfo]='INFO',[a.LogLevelDebug]='DEBUG',[a.LogLevelTrace]='TRACE'}package.loaded['cytanb']=a;o,p=(function()local dz='eff3a188-bfc7-4b0e-93cb-90fd1adc508c'local dF=_G[dz]if not dF then dF={}_G[dz]=dF end;local fA=dF.randomSeedValue;if not fA then fA=os.time()-os.clock()*10000;dF.randomSeedValue=fA;math.randomseed(fA)end;local fB=dF.clientID;if type(fB)~='string'then fB=tostring(a.RandomUUID())dF.clientID=fB end;local fC=vci.state.Get(b)or''if fC==''and vci.assets.IsMine then fC=tostring(a.RandomUUID())vci.state.Set(b,fC)end;return fC,fB end)()return a end)()
