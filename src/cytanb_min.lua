-- SPDX-License-Identifier: MIT
-- Copyright (c) 2019 oO (https://github.com/oocytanb)
---@type cytanb @See `cytanb_annotations.lua`
local cytanb=(function()local b=function(_ENV)if not require or not vci then error('Invalid _ENV: Enable `__CYTANB_EXPORT_MODULE = true` line and pass valid _ENV of VCI-main if use cytanb.lua as module.',3)end;local c;local d;local e;local f;local g;local h;local i;local j;local k;local l;local m=false;local n;local o;local a;local p=function(q,r)local s=q+r-1;return q,s,s+1 end;local t=function(q,r)local s=q-r+1;return s,q,s-1 end;local u=function(v,w,x,q,y)local z=x.searchMap;for A,r in pairs(x.lengthList)do if r<=0 then error('SearchPattern: Invalid parameter: searchLen <= 0')else local B,C,s=y(q,r)if B>=1 and C<=w then local D=string.sub(v,B,C)if z[D]then return true,r,s end end end end;return false,-1,-1 end;local E=function(v,x,q,y)if v==nil or x==nil then return false,-1 end;if x.hasEmptySearch then return true,0 end;local w=string.len(v)local F=x.repeatMin;local G=x.repeatMax;local H=G<0;local I=q;local J=0;local K=0;while H or K<G do local L,M,s=u(v,w,x,I,y)if L then if M<=0 then error('SearchPattern: Invalid parameter')end;I=s;J=J+M;K=K+1 else break end end;if K>=F then return true,J else return false,-1 end end;local N=function(v,O,q,P,y,Q)if v==nil or O==nil then return false,-1 end;local r=string.len(O)if P then local L=Q(v,O)return L,L and r or-1 else if r==0 then return true,r end;local w=string.len(v)local B,C=y(q,r)if B>=1 and C<=w then local D=string.sub(v,B,C)local L=Q(D,O)return L,L and r or-1 else return false,-1 end end end;local R=function(v,S,T)if S<=T then local U=string.unicode(v,S,S)if U>=0xDC00 or U<=0xDFFF then return true,1,U end end;return false,-1,nil end;local V=function(v,S,T,W)if S<=T then local X,Y=a.StringStartsWith(v,d,S)if X then local Z=S+Y;if Z<=T then local _,a0=a.StringStartsWith(v,e,Z)if _ then local a1=Z+a0;if a1<=T and string.unicode(v,a1,a1)==0x3E then local a2=tonumber(string.sub(v,Z,Z+a0-1))if a2<=W then return true,a1-S+1,a2 end end end end end end;return false,-1,nil end;local a3=function(a4,a5)for a6=1,4 do local a7=a4[a6]-a5[a6]if a7~=0 then return a7 end end;return 0 end;local a8;a8={__eq=function(a4,a5)return a4[1]==a5[1]and a4[2]==a5[2]and a4[3]==a5[3]and a4[4]==a5[4]end,__lt=function(a4,a5)return a3(a4,a5)<0 end,__le=function(a4,a5)return a3(a4,a5)<=0 end,__tostring=function(a9)local aa=a9[2]or 0;local ab=a9[3]or 0;return string.format('%08x-%04x-%04x-%04x-%04x%08x',bit32.band(a9[1]or 0,0xFFFFFFFF),bit32.band(bit32.rshift(aa,16),0xFFFF),bit32.band(aa,0xFFFF),bit32.band(bit32.rshift(ab,16),0xFFFF),bit32.band(ab,0xFFFF),bit32.band(a9[4]or 0,0xFFFFFFFF))end,__concat=function(a4,a5)local ac=getmetatable(a4)local ad=ac==a8 or type(ac)=='table'and ac.__concat==a8.__concat;local ae=getmetatable(a5)local af=ae==a8 or type(ae)=='table'and ae.__concat==a8.__concat;if not ad and not af then error('UUID: attempt to concatenate illegal values',2)end;return(ad and a8.__tostring(a4)or a4)..(af and a8.__tostring(a5)or a5)end}local ag='__CYTANB_CONST_VARIABLES'local ah=function(table,ai)local aj=getmetatable(table)if aj then local ak=rawget(aj,ag)if ak then local al=rawget(ak,ai)if type(al)=='function'then return al(table,ai)else return al end end end;return nil end;local am=function(table,ai,an)local aj=getmetatable(table)if aj then local ak=rawget(aj,ag)if ak then if rawget(ak,ai)~=nil then error('Cannot assign to read only field "'..ai..'"',2)end end end;rawset(table,ai,an)end;local ao=function(ap,aq)if not ap then return false,false end;local ar=ap[a.TypeParameterName]if a.NillableHasValue(ar)and a.NillableValue(ar)~=aq then return false,false end;return a.NillableIfHasValueOrElse(j[aq],function(as)local at=as.compositionFieldNames;local au=as.compositionFieldLength;local av=false;for aw,an in pairs(ap)do if at[aw]then au=au-1;if au<=0 and av then break end elseif aw~=a.TypeParameterName then av=true;if au<=0 then break end end end;return au<=0,av end,function()return false,false end)end;local ax=function(v)return a.StringReplace(a.StringReplace(v,a.EscapeSequenceTag,a.EscapeSequenceTag..a.EscapeSequenceTag),'/',a.SolidusTag)end;local ay=function(v,az)local aA=string.len(v)local aB=string.len(a.EscapeSequenceTag)if aB>aA then return v end;local aC=''local a6=1;while a6<aA do local C,aD=string.find(v,a.EscapeSequenceTag,a6,true)if not C then if a6==1 then aC=v else aC=aC..string.sub(v,a6)end;break end;if C>a6 then aC=aC..string.sub(v,a6,C-1)end;local aE=false;for aF,aG in ipairs(i)do local L=a.StringStartsWith(v,aG.search,C)if L then aC=aC..(az and az(aG.tag)or aG.replacement)a6=C+string.len(aG.search)aE=true;break end end;if not aE then aC=aC..a.EscapeSequenceTag;a6=aD+1 end end;return aC end;local aH;aH=function(aI,aJ)if type(aI)~='table'then return aI end;if not aJ then aJ={}end;if aJ[aI]then error('circular reference')end;aJ[aI]=true;local aK={}for aw,an in pairs(aI)do local aL=type(aw)local aM;if aL=='string'then aM=ax(aw)elseif aL=='number'then aM=tostring(aw)..a.ArrayNumberTag else aM=aw end;local aN=type(an)if aN=='string'then aK[aM]=ax(an)elseif aN=='number'and an<0 then aK[tostring(aM)..a.NegativeNumberTag]=tostring(an)else aK[aM]=aH(an,aJ)end end;aJ[aI]=nil;return aK end;local aO;aO=function(aK,aP)if type(aK)~='table'then return aK end;local aI={}for aw,an in pairs(aK)do local aM;local aQ=false;if type(aw)=='string'then local aR=false;aM=ay(aw,function(aS)if aS==a.NegativeNumberTag then aQ=true elseif aS==a.ArrayNumberTag then aR=true end;return nil end)if aR then aM=tonumber(aM)or aM end else aM=aw;aQ=false end;if aQ and type(an)=='string'then aI[aM]=tonumber(an)elseif type(an)=='string'then aI[aM]=ay(an,function(aS)return k[aS]end)else aI[aM]=aO(an,aP)end end;if not aP then a.NillableIfHasValue(aI[a.TypeParameterName],function(aT)a.NillableIfHasValue(j[aT],function(as)local aU,av=as.fromTableFunc(aI)if not av then a.NillableIfHasValue(aU,function(a9)aI=a9 end)end end)end)end;return aI end;local aV={['nil']=function(aW)return nil end,['number']=function(aW)return tonumber(aW)end,['string']=function(aW)return tostring(aW)end,['boolean']=function(aW)if aW then return true else return false end end}local aX=function(aW,aY)local aZ=type(aW)if aZ==aY then return aW else local a_=aV[aY]if a_ then return a_(aW)else return nil end end end;local b0=function(b1,b2)if b2 and type(b2)=='table'then local b3={}for ai,aW in pairs(b1)do local b4=b2[ai]local b5;if b4==nil then b5=aW else local b6=aX(b4,type(aW))if b6==nil then b5=aW else b5=b6 end end;b3[ai]=b5 end;b3[a.MessageOriginalSender]=b1;return b3 else return b1 end end;local b7=function(b8,b9,b2,ba)local bb={type=ba,name='',commentSource=''}local bc={[a.MessageValueParameterName]=tostring(b9),[a.MessageSenderOverride]=type(b2)=='table'and a.Extend(bb,b2,true)or bb}a.EmitMessage(b8,bc)end;local bd=function(b8,be,bf)local bg,bh=(function()local a_=function(b1,bi,bc)local b9=tostring(bc[a.MessageValueParameterName]or'')bf(b1,be,b9)end;local bg=a.OnMessage(b8,a_)local bh=a.OnMessage(be,a_)return bg,bh end)()return{Off=function()bg.Off()bh.Off()end}end;a={InstanceID=function()return vci.assets.GetInstanceId()or''end,ClientID=function()return o end,NillableHasValue=function(bj)return bj~=nil end,NillableValue=function(bj)if bj==nil then error('nillable: value is nil',2)end;return bj end,NillableValueOrDefault=function(bj,bk)if bj==nil then if bk==nil then error('nillable: defaultValue is nil',2)end;return bk else return bj end end,NillableIfHasValue=function(bj,bf)if bj==nil then return nil else return bf(bj)end end,NillableIfHasValueOrElse=function(bj,bf,bl)if bj==nil then return bl()else return bf(bj)end end,MakeSearchPattern=function(bm,bn,bo)local F=bn and math.floor(bn)or 1;if F<0 then error('SearchPattern: Invalid parameter: optRepeatMin < 0')end;local G=bo and math.floor(bo)or F;if G>=0 and G<F then error('SearchPattern: Invalid parameter: repeatMax < repeatMin')end;local bp=G==0;local z={}local bq={}local br={}local bs=0;for bt,bu in pairs(bm)do local r=string.len(bu)if r==0 then bp=true else z[bu]=r;if not bq[r]then bq[r]=true;bs=bs+1;br[bs]=r end end end;table.sort(br,function(bv,L)return bv>L end)return{hasEmptySearch=bp,searchMap=z,lengthList=br,repeatMin=F,repeatMax=G}end,StringStartsWith=function(v,O,bw)local I=bw and math.max(1,math.floor(bw))or 1;if type(O)=='table'then return E(v,O,I,p)else return N(v,O,I,I==1,p,string.startsWith)end end,StringEndsWith=function(v,O,bx)if v==nil then return false,-1 end;local w=string.len(v)local I=bx and math.min(w,math.floor(bx))or w;if type(O)=='table'then return E(v,O,I,t)else return N(v,O,I,I==w,t,string.endsWith)end end,
StringTrimStart=function(v,by)if v==nil or v==''then return v end;local L,M=a.StringStartsWith(v,by or c)if L and M>=1 then return string.sub(v,M+1)else return v end end,StringTrimEnd=function(v,by)if v==nil or v==''then return v end;local L,M=a.StringEndsWith(v,by or c)if L and M>=1 then return string.sub(v,1,string.len(v)-M)else return v end end,StringTrim=function(v,by)return a.StringTrimEnd(a.StringTrimStart(v,by),by)end,StringReplace=function(v,bz,bA)local bB;local aA=string.len(v)if bz==''then bB=bA;for a6=1,aA do bB=bB..string.sub(v,a6,a6)..bA end else bB=''local a6=1;while true do local B,C=string.find(v,bz,a6,true)if B then bB=bB..string.sub(v,a6,B-1)..bA;a6=C+1;if a6>aA then break end else bB=a6==1 and v or bB..string.sub(v,a6)break end end end;return bB end,StringEachCode=function(v,bf,bC,a6,bD,bE,bF,bG)local aA=string.len(v)if aA==0 then return 0,0,0 end;local bH=a6 and math.floor(a6)or 1;local T=bD and math.floor(bD)or aA;local W=math.min(bG or 3182,0x1FFFFF)if bH<=0 or T>aA or bH>T then error('StringEachCode: invalid range')end;local bI=0;local bJ=bH;local bK=bJ;while bJ<=T do local B=bJ;local U=string.unicode(v,bJ,bJ)if U>=0xD800 and U<=0xDBFF then local L,M=R(v,bJ+1,T)if L then bJ=bJ+M end elseif bE and U==0x3C then local L,M,a2=V(v,bJ+1,T,W)if L and(not bF or bF(a2))then bJ=bJ+M end end;bI=bI+1;bK=bJ;if bf and bf(string.sub(v,B,bJ),bI,bC,B,bJ)==false then break end;bJ=bJ+1 end;return bI,bH,bK end,SetConst=function(bz,b8,a9)if type(bz)~='table'then error('Cannot set const to non-table target',2)end;local bL=getmetatable(bz)local aj=bL or{}local bM=rawget(aj,ag)if rawget(bz,b8)~=nil then error('Non-const field "'..b8 ..'" already exists',2)end;if not bM then bM={}rawset(aj,ag,bM)aj.__index=ah;aj.__newindex=am end;rawset(bM,b8,a9)if not bL then setmetatable(bz,aj)end;return bz end,SetConstEach=function(bz,bN)for aw,an in pairs(bN)do a.SetConst(bz,aw,an)end;return bz end,Extend=function(bz,bO,bP,bQ,aJ)if bz==bO or type(bz)~='table'or type(bO)~='table'then return bz end;if bP then if not aJ then aJ={}end;if aJ[bO]then error('circular reference')end;aJ[bO]=true end;for aw,an in pairs(bO)do if bP and type(an)=='table'then local bR=bz[aw]bz[aw]=a.Extend(type(bR)=='table'and bR or{},an,bP,bQ,aJ)else bz[aw]=an end end;if not bQ then local bS=getmetatable(bO)if type(bS)=='table'then if bP then local bT=getmetatable(bz)setmetatable(bz,a.Extend(type(bT)=='table'and bT or{},bS,true))else setmetatable(bz,bS)end end end;if bP then aJ[bO]=nil end;return bz end,Vars=function(an,bU,bV,aJ)local bW;if bU then bW=bU~='__NOLF'else bU='  'bW=true end;if not bV then bV=''end;if not aJ then aJ={}end;local bX=type(an)if bX=='table'then aJ[an]=aJ[an]and aJ[an]+1 or 1;local bY=bW and bV..bU or''local v='('..tostring(an)..') {'local bZ=true;for ai,aW in pairs(an)do if bZ then bZ=false else v=v..(bW and','or', ')end;if bW then v=v..'\n'..bY end;if type(aW)=='table'and aJ[aW]and aJ[aW]>0 then v=v..ai..' = ('..tostring(aW)..')'else v=v..ai..' = '..a.Vars(aW,bU,bY,aJ)end end;if not bZ and bW then v=v..'\n'..bV end;v=v..'}'aJ[an]=aJ[an]-1;if aJ[an]<=0 then aJ[an]=nil end;return v elseif bX=='function'or bX=='thread'or bX=='userdata'then return'('..bX..')'elseif bX=='string'then return'('..bX..') '..string.format('%q',an)else return'('..bX..') '..tostring(an)end end,PosixTime=(function()local b_=os.time({year=1970,month=1,day=2,hour=0,min=0,sec=0,isdst=false})if not b_ then error('unexpected')end;local c0=os.date('!*t',b_)local c1=(((c0.day-1)*24+c0.hour)*60+c0.min)*60+c0.sec;return function(c2)return os.difftime(c2 or os.time(),b_)+c1 end end)(),GetLogLevel=function()return l end,SetLogLevel=function(c3)l=c3 end,IsOutputLogLevelEnabled=function()return m end,SetOutputLogLevelEnabled=function(c4)m=not not c4 end,Log=function(c3,...)if c3<=l then local c5=m and(n[c3]or'LOG LEVEL '..tostring(c3))..' | 'or''local c6=table.pack(...)if c6.n==1 then local an=c6[1]if an~=nil then local v=type(an)=='table'and a.Vars(an)or tostring(an)print(m and c5 ..v or v)else print(c5)end else local v=c5;for a6=1,c6.n do local an=c6[a6]if an~=nil then v=v..(type(an)=='table'and a.Vars(an)or tostring(an))end end;print(v)end end end,LogFatal=function(...)a.Log(a.LogLevelFatal,...)end,LogError=function(...)a.Log(a.LogLevelError,...)end,LogWarn=function(...)a.Log(a.LogLevelWarn,...)end,LogInfo=function(...)a.Log(a.LogLevelInfo,...)end,LogDebug=function(...)a.Log(a.LogLevelDebug,...)end,LogTrace=function(...)a.Log(a.LogLevelTrace,...)end,FatalLog=function(...)a.LogFatal(...)end,ErrorLog=function(...)a.LogError(...)end,WarnLog=function(...)a.LogWarn(...)end,InfoLog=function(...)a.LogInfo(...)end,DebugLog=function(...)a.LogDebug(...)end,TraceLog=function(...)a.LogTrace(...)end,ListToMap=function(c7,c8)local c9={}if c8==nil then for aw,an in pairs(c7)do c9[an]=an end elseif type(c8)=='function'then for aw,an in pairs(c7)do local ca,cb=c8(an)c9[ca]=cb end else for aw,an in pairs(c7)do c9[an]=c8 end end;return c9 end,Round=function(cc,cd)if cd then local ce=10^cd;return math.floor(cc*ce+0.5)/ce else return math.floor(cc+0.5)end end,Clamp=function(a9,cf,cg)return math.max(cf,math.min(a9,cg))end,Lerp=function(bv,L,bX)if bX<=0.0 then return bv elseif bX>=1.0 then return L else return bv+(L-bv)*bX end end,LerpUnclamped=function(bv,L,bX)if bX==0.0 then return bv elseif bX==1.0 then return L else return bv+(L-bv)*bX end end,PingPong=function(bX,ch)if ch==0 then return 0,1 end;local ci=math.floor(bX/ch)local cj=bX-ci*ch;if ci<0 then if(ci+1)%2==0 then return ch-cj,-1 else return cj,1 end else if ci%2==0 then return cj,1 else return ch-cj,-1 end end end,VectorApproximatelyEquals=function(ck,cl)return(ck-cl).sqrMagnitude<1E-10 end,QuaternionApproximatelyEquals=function(ck,cl)local cm=Quaternion.Dot(ck,cl)return cm<1.0+1E-06 and cm>1.0-1E-06 end,QuaternionToAngleAxis=function(cn)local ci=cn.normalized;local co=math.acos(ci.w)local cp=math.sin(co)local cq=math.deg(co*2.0)local cr;if math.abs(cp)<=Quaternion.kEpsilon then cr=Vector3.right else local B=1.0/cp;cr=Vector3.__new(ci.x*B,ci.y*B,ci.z*B)end;return cq,cr end,QuaternionTwist=function(cn,cs)if cs.sqrMagnitude<Vector3.kEpsilonNormalSqrt then return Quaternion.identity end;local ct=Vector3.__new(cn.x,cn.y,cn.z)if ct.sqrMagnitude>=Vector3.kEpsilonNormalSqrt then local cu=Vector3.Project(ct,cs)if cu.sqrMagnitude>=Vector3.kEpsilonNormalSqrt then local cv=Quaternion.__new(cu.x,cu.y,cu.z,cn.w)cv.Normalize()return cv else return Quaternion.AngleAxis(0,cs)end else local cw=a.QuaternionToAngleAxis(cn)return Quaternion.AngleAxis(cw,cs)end end,ApplyQuaternionToVector3=function(cn,cx)local cy=cn.w*cx.x+cn.y*cx.z-cn.z*cx.y;local cz=cn.w*cx.y-cn.x*cx.z+cn.z*cx.x;local cA=cn.w*cx.z+cn.x*cx.y-cn.y*cx.x;local cB=-cn.x*cx.x-cn.y*cx.y-cn.z*cx.z;return Vector3.__new(cB*-cn.x+cy*cn.w+cz*-cn.z-cA*-cn.y,cB*-cn.y-cy*-cn.z+cz*cn.w+cA*-cn.x,cB*-cn.z+cy*-cn.y-cz*-cn.x+cA*cn.w)end,RotateAround=function(cC,cD,cE,cF)return cE+cF*(cC-cE),cF*cD end,Random32=function()return bit32.band(math.random(-2147483648,2147483646)+2147483648,0xFFFFFFFF)end,RandomUUID=function()return a.UUIDFromNumbers(a.Random32(),bit32.bor(0x4000,bit32.band(a.Random32(),0xFFFF0FFF)),bit32.bor(0x80000000,bit32.band(a.Random32(),0x3FFFFFFF)),a.Random32())end,UUIDString=function(cG)return a8.__tostring(cG)end,UUIDFromNumbers=function(...)local cH=...local bX=type(cH)local cI,cJ,cK,cL;if bX=='table'then cI=cH[1]cJ=cH[2]cK=cH[3]cL=cH[4]else cI,cJ,cK,cL=...end;local cG={bit32.band(cI or 0,0xFFFFFFFF),bit32.band(cJ or 0,0xFFFFFFFF),bit32.band(cK or 0,0xFFFFFFFF),bit32.band(cL or 0,0xFFFFFFFF)}setmetatable(cG,a8)return cG end,
UUIDFromString=function(v)local aA=string.len(v)if aA==32 then local cG=a.UUIDFromNumbers(0,0,0,0)for a6=1,4 do local B=1+(a6-1)*8;if not a.StringStartsWith(v,g,B)then return nil end;cG[a6]=tonumber(string.sub(v,B,B+7),16)end;return cG elseif aA==36 then if not a.StringStartsWith(v,g,1)then return nil end;local cI=tonumber(string.sub(v,1,8),16)if not a.StringStartsWith(v,'-',9)or not a.StringStartsWith(v,f,10)or not a.StringStartsWith(v,'-',14)or not a.StringStartsWith(v,f,15)then return nil end;local cJ=tonumber(string.sub(v,10,13)..string.sub(v,15,18),16)if not a.StringStartsWith(v,'-',19)or not a.StringStartsWith(v,f,20)or not a.StringStartsWith(v,'-',24)or not a.StringStartsWith(v,f,25)then return nil end;local cK=tonumber(string.sub(v,20,23)..string.sub(v,25,28),16)if not a.StringStartsWith(v,g,29)then return nil end;local cL=tonumber(string.sub(v,29),16)return a.UUIDFromNumbers(cI,cJ,cK,cL)else return nil end end,ParseUUID=function(v)return a.UUIDFromString(v)end,CreateCircularQueue=function(cM)if type(cM)~='number'or cM<1 then error('CreateCircularQueue: Invalid argument: capacity = '..tostring(cM),2)end;local self;local cN=math.floor(cM)local aC={}local cO=0;local cP=0;local cQ=0;self={Size=function()return cQ end,Clear=function()cO=0;cP=0;cQ=0 end,IsEmpty=function()return cQ==0 end,Offer=function(cR)aC[cO+1]=cR;cO=(cO+1)%cN;if cQ<cN then cQ=cQ+1 else cP=(cP+1)%cN end;return true end,OfferFirst=function(cR)cP=(cN+cP-1)%cN;aC[cP+1]=cR;if cQ<cN then cQ=cQ+1 else cO=(cN+cO-1)%cN end;return true end,Poll=function()if cQ==0 then return nil else local cR=aC[cP+1]cP=(cP+1)%cN;cQ=cQ-1;return cR end end,PollLast=function()if cQ==0 then return nil else cO=(cN+cO-1)%cN;local cR=aC[cO+1]cQ=cQ-1;return cR end end,Peek=function()if cQ==0 then return nil else return aC[cP+1]end end,PeekLast=function()if cQ==0 then return nil else return aC[(cN+cO-1)%cN+1]end end,Get=function(cS)if cS<1 or cS>cQ then a.LogError('CreateCircularQueue.Get: index is outside the range: '..cS)return nil end;return aC[(cP+cS-1)%cN+1]end,IsFull=function()return cQ>=cN end,MaxSize=function()return cN end}return self end,DetectClicks=function(cT,cU,cV)local bI=cT or 0;local cW=cV or TimeSpan.FromMilliseconds(500)local cX=vci.me.Time;local cY=cU and cX>cU+cW and 1 or bI+1;return cY,cX end,ColorRGBToHSV=function(cZ)local c_,al,d0,an=Color.RGBToHSV(cZ)return al,d0,an end,ColorFromARGB32=function(d1)local d2=type(d1)=='number'and d1 or 0xFF000000;return Color.__new(bit32.band(bit32.rshift(d2,16),0xFF)/0xFF,bit32.band(bit32.rshift(d2,8),0xFF)/0xFF,bit32.band(d2,0xFF)/0xFF,bit32.band(bit32.rshift(d2,24),0xFF)/0xFF)end,ColorToARGB32=function(cZ)return bit32.bor(bit32.lshift(bit32.band(a.Round(0xFF*cZ.a),0xFF),24),bit32.lshift(bit32.band(a.Round(0xFF*cZ.r),0xFF),16),bit32.lshift(bit32.band(a.Round(0xFF*cZ.g),0xFF),8),bit32.band(a.Round(0xFF*cZ.b),0xFF))end,ColorFromIndex=function(d3,d4,d5,d6,d7)local d8=math.max(math.floor(d4 or a.ColorHueSamples),1)local d9=d7 and d8 or d8-1;local da=math.max(math.floor(d5 or a.ColorSaturationSamples),1)local db=math.max(math.floor(d6 or a.ColorBrightnessSamples),1)local cS=a.Clamp(math.floor(d3 or 0),0,d8*da*db-1)local dc=cS%d8;local dd=math.floor(cS/d8)local B=dd%da;local de=math.floor(dd/da)if d7 or dc~=d9 then local al=dc/d9;local d0=(da-B)/da;local an=(db-de)/db;return Color.HSVToRGB(al,d0,an)else local an=(db-de)/db*B/(da-1)return Color.HSVToRGB(0.0,0.0,an)end end,ColorToIndex=function(cZ,d4,d5,d6,d7)local d8=math.max(math.floor(d4 or a.ColorHueSamples),1)local d9=d7 and d8 or d8-1;local da=math.max(math.floor(d5 or a.ColorSaturationSamples),1)local db=math.max(math.floor(d6 or a.ColorBrightnessSamples),1)local al,d0,an=a.ColorRGBToHSV(cZ)local B=a.Round(da*(1.0-d0))if d7 or B<da then local df=a.Round(d9*al)if df>=d9 then df=0 end;if B>=da then B=da-1 end;local de=math.min(db-1,a.Round(db*(1.0-an)))return df+d8*(B+da*de)else local dg=a.Round((da-1)*an)if dg==0 then local dh=a.Round(db*(1.0-an))if dh>=db then return d8-1 else return d8*(1+a.Round(an*(da-1)/(db-dh)*db)+da*dh)-1 end else return d8*(1+dg+da*a.Round(db*(1.0-an*(da-1)/dg)))-1 end end end,ColorToTable=function(cZ)return cZ and{[a.TypeParameterName]=a.ColorTypeName,r=cZ.r,g=cZ.g,b=cZ.b,a=cZ.a}or nil end,ColorFromTable=function(ap)local L,av=ao(ap,a.ColorTypeName)return L and Color.__new(ap.r,ap.g,ap.b,ap.a)or nil,av end,Vector2ToTable=function(a9)return a9 and{[a.TypeParameterName]=a.Vector2TypeName,x=a9.x,y=a9.y}or nil end,Vector2FromTable=function(ap)local L,av=ao(ap,a.Vector2TypeName)return L and Vector2.__new(ap.x,ap.y)or nil,av end,Vector3ToTable=function(a9)return a9 and{[a.TypeParameterName]=a.Vector3TypeName,x=a9.x,y=a9.y,z=a9.z}or nil end,Vector3FromTable=function(ap)local L,av=ao(ap,a.Vector3TypeName)return L and Vector3.__new(ap.x,ap.y,ap.z)or nil,av end,Vector4ToTable=function(a9)return a9 and{[a.TypeParameterName]=a.Vector4TypeName,x=a9.x,y=a9.y,z=a9.z,w=a9.w}or nil end,Vector4FromTable=function(ap)local L,av=ao(ap,a.Vector4TypeName)return L and Vector4.__new(ap.x,ap.y,ap.z,ap.w)or nil,av end,QuaternionToTable=function(a9)return a9 and{[a.TypeParameterName]=a.QuaternionTypeName,x=a9.x,y=a9.y,z=a9.z,w=a9.w}or nil end,QuaternionFromTable=function(ap)local L,av=ao(ap,a.QuaternionTypeName)return L and Quaternion.__new(ap.x,ap.y,ap.z,ap.w)or nil,av end,TableToSerializable=function(aI)return aH(aI)end,TableFromSerializable=function(aK,aP)return aO(aK,aP)end,TableToSerialiable=function(aI)return aH(aI)end,TableFromSerialiable=function(aK,aP)return aO(aK,aP)end,EmitMessage=function(b8,bc)local aK=a.NillableIfHasValueOrElse(bc,function(aI)if type(aI)~='table'then error('EmitMessage: Invalid argument: table expected',3)end;return a.TableToSerializable(aI)end,function()return{}end)local di=a.InstanceID()if di==''then a.LogWarn('EmitMessage: InstanceID is empty. Consider using the CreateUpdateRoutine function.')end;aK[a.InstanceIDParameterName]=di;vci.message.Emit(b8,json.serialize(aK))end,OnMessage=function(b8,bf)local a_=function(b1,bi,b9)if type(b9)=='string'and string.startsWith(b9,'{')then local dj,aK=pcall(json.parse,b9)if dj and type(aK)=='table'and aK[a.InstanceIDParameterName]then local dk=a.TableFromSerializable(aK)bf(b0(b1,dk[a.MessageSenderOverride]),bi,dk)return end end;bf(b1,bi,{[a.MessageValueParameterName]=b9})end;vci.message.On(b8,a_)return{Off=function()if a_ then a_=nil end end}end,OnInstanceMessage=function(b8,bf)local a_=function(b1,bi,bc)local di=a.InstanceID()if di~=''and di==bc[a.InstanceIDParameterName]then bf(b1,bi,bc)end end;return a.OnMessage(b8,a_)end,EmitCommentMessage=function(b9,b2)b7(a.DedicatedCommentMessageName,b9,b2,'comment')end,OnCommentMessage=function(bf)return bd(a.DedicatedCommentMessageName,'comment',bf)end,EmitNotificationMessage=function(b9,b2)b7(a.DedicatedNotificationMessageName,b9,b2,'notification')end,OnNotificationMessage=function(bf)return bd(a.DedicatedNotificationMessageName,'notification',bf)end,GetEffekseerEmitterMap=function(b8)local dl=vci.assets.GetEffekseerEmitters(b8)if not dl then return nil end;local c9={}for a6,dm in pairs(dl)do c9[dm.EffectName]=dm end;return c9 end,ParseTagString=function(v)local bJ=string.find(v,'#',1,true)if not bJ then return{},v end;local dn={}local dp=string.sub(v,1,bJ-1)bJ=bJ+1;local aA=string.len(v)while bJ<=aA do local dq,dr=a.StringStartsWith(v,h,bJ)if dq then local ds=bJ+dr;local dt=string.sub(v,bJ,ds-1)local du=dt;bJ=ds;if bJ<=aA and a.StringStartsWith(v,'=',bJ)then bJ=bJ+1;local dv,dw=a.StringStartsWith(v,h,bJ)if dv then local dx=bJ+dw;du=string.sub(v,bJ,dx-1)bJ=dx else du=''end end;dn[dt]=du end;bJ=string.find(v,'#',bJ,true)if not bJ then break end;bJ=bJ+1 end;return dn,dp end,
CalculateSIPrefix=(function()local dy=9;local dz={'y','z','a','f','p','n','u','m','','k','M','G','T','P','E','Z','Y'}local dA=#dz;return function(cc)local dB=cc==0 and 0 or a.Clamp(math.floor(math.log(math.abs(cc),1000)),1-dy,dA-dy)return dB==0 and cc or cc/1000^dB,dz[dy+dB],dB*3 end end)(),CreateLocalSharedProperties=function(dC,dD)local dE=TimeSpan.FromSeconds(5)local dF='33657f0e-7c44-4ee7-acd9-92dd8b8d807a'local dG='__CYTANB_LOCAL_SHARED_PROPERTIES_LISTENER_MAP'if type(dC)~='string'or string.len(dC)<=0 or type(dD)~='string'or string.len(dD)<=0 then error('LocalSharedProperties: Invalid arguments',2)end;local dH=_G[dF]if not dH then dH={}_G[dF]=dH end;dH[dD]=vci.me.UnscaledTime;local dI=_G[dC]if not dI then dI={[dG]={}}_G[dC]=dI end;local dJ=dI[dG]local self;self={GetLspID=function()return dC end,GetLoadID=function()return dD end,GetProperty=function(ai,bk)local a9=dI[ai]if a9==nil then return bk else return a9 end end,SetProperty=function(ai,a9)if ai==dG then error('LocalSharedProperties: Invalid argument: key = ',ai,2)end;local cX=vci.me.UnscaledTime;local dK=dI[ai]dI[ai]=a9;for dL,di in pairs(dJ)do local bX=dH[di]if bX and bX+dE>=cX then dL(self,ai,a9,dK)else dL(self,a.LOCAL_SHARED_PROPERTY_EXPIRED_KEY,true,false)dJ[dL]=nil;dH[di]=nil end end end,Clear=function()for ai,a9 in pairs(dI)do if ai~=dG then self.SetProperty(ai,nil)end end end,Each=function(bf)for ai,a9 in pairs(dI)do if ai~=dG and bf(a9,ai,self)==false then return false end end end,AddListener=function(dL)dJ[dL]=dD end,RemoveListener=function(dL)dJ[dL]=nil end,UpdateAlive=function()dH[dD]=vci.me.UnscaledTime end}return self end,EstimateFixedTimestep=function(dM)local dN=1.0;local dO=1000.0;local dP=TimeSpan.FromSeconds(0.02)local dQ=0xFFFF;local dR=a.CreateCircularQueue(64)local dS=TimeSpan.FromSeconds(5)local dT=TimeSpan.FromSeconds(30)local dU=false;local dV=vci.me.Time;local dW=a.Random32()local dX=Vector3.__new(bit32.bor(0x400,bit32.band(dW,0x1FFF)),bit32.bor(0x400,bit32.band(bit32.rshift(dW,16),0x1FFF)),0.0)dM.SetPosition(dX)dM.SetRotation(Quaternion.identity)dM.SetVelocity(Vector3.zero)dM.SetAngularVelocity(Vector3.zero)dM.AddForce(Vector3.__new(0.0,0.0,dN*dO))local self={Timestep=function()return dP end,Precision=function()return dQ end,IsFinished=function()return dU end,Update=function()if dU then return dP end;local dY=vci.me.Time-dV;local dZ=dY.TotalSeconds;if dZ<=Vector3.kEpsilon then return dP end;local d_=dM.GetPosition().z-dX.z;local e0=d_/dZ;local e1=e0/dO;if e1<=Vector3.kEpsilon then return dP end;dR.Offer(e1)local e2=dR.Size()if e2>=2 and dY>=dS then local e3=0.0;for a6=1,e2 do e3=e3+dR.Get(a6)end;local e4=e3/e2;local e5=0.0;for a6=1,e2 do e5=e5+(dR.Get(a6)-e4)^2 end;local e6=e5/e2;if e6<dQ then dQ=e6;dP=TimeSpan.FromSeconds(e4)end;if dY>dT then dU=true;dM.SetPosition(dX)dM.SetRotation(Quaternion.identity)dM.SetVelocity(Vector3.zero)dM.SetAngularVelocity(Vector3.zero)end else dP=TimeSpan.FromSeconds(e1)end;return dP end}return self end,AlignSubItemOrigin=function(e7,e8,e9)local ea=e7.GetRotation()if not a.QuaternionApproximatelyEquals(e8.GetRotation(),ea)then e8.SetRotation(ea)end;local eb=e7.GetPosition()if not a.VectorApproximatelyEquals(e8.GetPosition(),eb)then e8.SetPosition(eb)end;if e9 then e8.SetVelocity(Vector3.zero)e8.SetAngularVelocity(Vector3.zero)end end,CreateSubItemGlue=function()local ec={}local self;self={Contains=function(ed,ee)return a.NillableIfHasValueOrElse(ec[ed],function(bN)return a.NillableHasValue(bN[ee])end,function()return false end)end,Add=function(ed,ef,e9)if not ed or not ef then local eg='SubItemGlue.Add: Invalid arguments '..(not ed and', parent = '..tostring(ed)or'')..(not ef and', children = '..tostring(ef)or'')error(eg,2)end;local bN=a.NillableIfHasValueOrElse(ec[ed],function(eh)return eh end,function()local eh={}ec[ed]=eh;return eh end)if type(ef)=='table'then for ai,aW in pairs(ef)do bN[aW]={velocityReset=not not e9}end else bN[ef]={velocityReset=not not e9}end end,Remove=function(ed,ee)return a.NillableIfHasValueOrElse(ec[ed],function(bN)if a.NillableHasValue(bN[ee])then bN[ee]=nil;return true else return false end end,function()return false end)end,RemoveParent=function(ed)if a.NillableHasValue(ec[ed])then ec[ed]=nil;return true else return false end end,RemoveAll=function()ec={}return true end,Each=function(bf,ei)return a.NillableIfHasValueOrElse(ei,function(ed)return a.NillableIfHasValue(ec[ed],function(bN)for ee,ej in pairs(bN)do if bf(ee,ed,self)==false then return false end end end)end,function()for ed,bN in pairs(ec)do if self.Each(bf,ed)==false then return false end end end)end,Update=function(ek)for ed,bN in pairs(ec)do local el=ed.GetPosition()local em=ed.GetRotation()for ee,ej in pairs(bN)do if ek or ee.IsMine then if not a.QuaternionApproximatelyEquals(ee.GetRotation(),em)then ee.SetRotation(em)end;if not a.VectorApproximatelyEquals(ee.GetPosition(),el)then ee.SetPosition(el)end;if ej.velocityReset then ee.SetVelocity(Vector3.zero)ee.SetAngularVelocity(Vector3.zero)end end end end end}return self end,CreateUpdateRoutine=function(en,eo,ep,eq)return coroutine.wrap(function()local er=eq or TimeSpan.FromSeconds(60)local es=vci.me.UnscaledTime;local et=es;local cU=vci.me.Time;local eu=true;while a.InstanceID()==''do local ev=vci.me.UnscaledTime;if ev-er>es then local ew='TIMEOUT: Could not receive Instance ID.'a.LogError(ew)if ep then ep(ew)end;return-1 end;et=ev;cU=vci.me.Time;eu=false;coroutine.yield(100)end;if eu then et=vci.me.UnscaledTime;cU=vci.me.Time;coroutine.yield(100)end;if eo then eo()end;while true do local cX=vci.me.Time;local ex=cX-cU;local ev=vci.me.UnscaledTime;local ey=ev-et;en(ex,ey)cU=cX;et=ev;coroutine.yield(100)end end)end,
CreateSlideSwitch=function(ez)local eA=a.NillableValue(ez.colliderItem)local eB=a.NillableValue(ez.baseItem)local eC=a.NillableValue(ez.knobItem)local eD=a.NillableValueOrDefault(ez.minValue,0)local eE=a.NillableValueOrDefault(ez.maxValue,10)if eD>=eE then error('SlideSwitch: Invalid argument: minValue >= maxValue',2)end;local eF=(eD+eE)*0.5;local eG=function(aW)local eH,eI=a.PingPong(aW-eD,eE-eD)return eH+eD,eI end;local a9=eG(a.NillableValueOrDefault(ez.value,0))local eJ=a.NillableIfHasValueOrElse(ez.tickFrequency,function(eK)if eK<=0 then error('SlideSwitch: Invalid argument: tickFrequency <= 0',3)end;return math.min(eK,eE-eD)end,function()return(eE-eD)/10.0 end)local eL=a.NillableIfHasValueOrElse(ez.tickVector,function(cr)return Vector3.__new(cr.x,cr.y,cr.z)end,function()return Vector3.__new(0.01,0.0,0.0)end)local eM=eL.magnitude;if eM<Vector3.kEpsilon then error('SlideSwitch: Invalid argument: tickVector is too small',2)end;local eN=a.NillableValueOrDefault(ez.snapToTick,true)local eO=ez.valueTextName;local eP=a.NillableValueOrDefault(ez.valueToText,tostring)local eQ=TimeSpan.FromMilliseconds(1000)local eR=TimeSpan.FromMilliseconds(50)local eS,eT;local dJ={}local self;local eU=false;local eV=0;local eW=false;local eX=TimeSpan.Zero;local eY=TimeSpan.Zero;local eZ=function(e_,f0)if f0 or e_~=a9 then local dK=a9;a9=e_;for dL,an in pairs(dJ)do dL(self,a9,dK)end end;eC.SetLocalPosition((e_-eF)/eJ*eL)if eO then vci.assets.SetText(eO,eP(e_,self))end end;local f1=function()local f2=eS()local f3,f4=eG(f2)local f5=f2+eJ;local f6,f7=eG(f5)assert(f6)local e_;if f4==f7 or f3==eE or f3==eD then e_=f5 else e_=f4>=0 and eE or eD end;eY=vci.me.UnscaledTime;if e_==eE or e_==eD then eX=eY end;eT(e_)end;a.NillableIfHasValueOrElse(ez.lsp,function(f8)if not a.NillableHasValue(ez.propertyName)then error('SlideSwitch: Invalid argument: propertyName is nil',3)end;local f9=a.NillableValue(ez.propertyName)eS=function()return f8.GetProperty(f9,a9)end;eT=function(aW)f8.SetProperty(f9,aW)end;f8.AddListener(function(bO,ai,fa,fb)if ai==f9 then eZ(eG(fa),true)end end)end,function()local fa=a9;eS=function()return fa end;eT=function(aW)fa=aW;eZ(eG(aW),true)end end)self={GetColliderItem=function()return eA end,GetBaseItem=function()return eB end,GetKnobItem=function()return eC end,GetMinValue=function()return eD end,GetMaxValue=function()return eE end,GetValue=function()return a9 end,GetScaleValue=function(fc,fd)assert(fc<=fd)return fc+(fd-fc)*(a9-eD)/(eE-eD)end,SetValue=function(aW)eT(eG(aW))end,GetTickFrequency=function()return eJ end,IsSnapToTick=function()return eN end,AddListener=function(dL)dJ[dL]=dL end,RemoveListener=function(dL)dJ[dL]=nil end,DoUse=function()if not eU then eW=true;eX=vci.me.UnscaledTime;f1()end end,DoUnuse=function()eW=false end,DoGrab=function()if not eW then eU=true;eV=(a9-eF)/eJ end end,DoUngrab=function()eU=false end,Update=function()if eU then local fe=eA.GetPosition()-eB.GetPosition()local ff=eC.GetRotation()*eL;local fg=Vector3.Project(fe,ff)local fh=(Vector3.Dot(ff,fg)>=0 and 1 or-1)*fg.magnitude/eM+eV;local fi=(eN and a.Round(fh)or fh)*eJ+eF;local e_=a.Clamp(fi,eD,eE)if e_~=a9 then eT(e_)end elseif eW then local fj=vci.me.UnscaledTime;if fj>=eX+eQ and fj>=eY+eR then f1()end elseif eA.IsMine then a.AlignSubItemOrigin(eB,eA)end end}eZ(eG(eS()),false)return self end,CreateSubItemConnector=function()local fk=function(fl,e8,fm)fl.item=e8;fl.position=e8.GetPosition()fl.rotation=e8.GetRotation()fl.initialPosition=fl.position;fl.initialRotation=fl.rotation;fl.propagation=not not fm;return fl end;local fn=function(fo)for e8,fl in pairs(fo)do fk(fl,e8,fl.propagation)end end;local fp=function(q,cF,fl,fq,fr)local fe=q-fl.initialPosition;local fs=cF*Quaternion.Inverse(fl.initialRotation)fl.position=q;fl.rotation=cF;for e8,ft in pairs(fq)do if e8~=fl.item and(not fr or fr(ft))then ft.position,ft.rotation=a.RotateAround(ft.initialPosition+fe,ft.initialRotation,q,fs)e8.SetPosition(ft.position)e8.SetRotation(ft.rotation)end end end;local fu={}local fv=true;local fw=false;local self;self={IsEnabled=function()return fv end,SetEnabled=function(c4)fv=c4;if c4 then fn(fu)fw=false end end,Contains=function(fx)return a.NillableHasValue(fu[fx])end,Add=function(fy,fz)if not fy then error('SubItemConnector.Add: Invalid argument: subItems = '..tostring(fy),2)end;local fA=type(fy)=='table'and fy or{fy}fn(fu)fw=false;for aw,e8 in pairs(fA)do fu[e8]=fk({},e8,not fz)end end,Remove=function(fx)local L=a.NillableHasValue(fu[fx])fu[fx]=nil;return L end,RemoveAll=function()fu={}return true end,Each=function(bf)for e8,fl in pairs(fu)do if bf(e8,self)==false then return false end end end,GetItems=function()local fA={}for e8,fl in pairs(fu)do table.insert(fA,e8)end;return fA end,Update=function()if not fv then return end;local fB=false;for e8,fl in pairs(fu)do local bJ=e8.GetPosition()local fC=e8.GetRotation()if not a.VectorApproximatelyEquals(bJ,fl.position)or not a.QuaternionApproximatelyEquals(fC,fl.rotation)then if fl.propagation then if e8.IsMine then fp(bJ,fC,fu[e8],fu,function(ft)if ft.item.IsMine then return true else fw=true;return false end end)fB=true;break else fw=true end else fw=true end end end;if not fB and fw then fn(fu)fw=false end end}return self end,UnixTime=function(c2)return a.PosixTime(c2)end,GetSubItemTransform=function(fx)local q=fx.GetPosition()local cF=fx.GetRotation()local fD=fx.GetLocalScale()return{positionX=q.x,positionY=q.y,positionZ=q.z,rotationX=cF.x,rotationY=cF.y,rotationZ=cF.z,rotationW=cF.w,scaleX=fD.x,scaleY=fD.y,scaleZ=fD.z}end}a.SetConstEach(a,{LogLevelOff=0,LogLevelFatal=100,LogLevelError=200,LogLevelWarn=300,LogLevelInfo=400,LogLevelDebug=500,LogLevelTrace=600,LogLevelAll=0x7FFFFFFF,ColorHueSamples=10,ColorSaturationSamples=4,ColorBrightnessSamples=5,EscapeSequenceTag='#__CYTANB',SolidusTag='#__CYTANB_SOLIDUS',NegativeNumberTag='#__CYTANB_NEGATIVE_NUMBER',ArrayNumberTag='#__CYTANB_ARRAY_NUMBER',InstanceIDParameterName='__CYTANB_INSTANCE_ID',MessageValueParameterName='__CYTANB_MESSAGE_VALUE',MessageSenderOverride='__CYTANB_MESSAGE_SENDER_OVERRIDE',MessageOriginalSender='__CYTANB_MESSAGE_ORIGINAL_SENDER',TypeParameterName='__CYTANB_TYPE',ColorTypeName='Color',Vector2TypeName='Vector2',Vector3TypeName='Vector3',Vector4TypeName='Vector4',QuaternionTypeName='Quaternion',DedicatedCommentMessageName='cytanb.comment.a2a6a035-6b8d-4e06-b4f9-07e6209b0639',DedicatedNotificationMessageName='cytanb.notification.698ba55f-2b69-47f2-a68d-bc303994cff3',InstanceIDStatePatchingMessageName='cytanb.instance_id_state_patching.08504824-2041-42a2-9b2a-97448b4418b0',LOCAL_SHARED_PROPERTY_EXPIRED_KEY='__CYTANB_LOCAL_SHARED_PROPERTY_EXPIRED'})a.SetConstEach(a,{ColorMapSize=a.ColorHueSamples*a.ColorSaturationSamples*a.ColorBrightnessSamples,FatalLogLevel=a.LogLevelFatal,ErrorLogLevel=a.LogLevelError,WarnLogLevel=a.LogLevelWarn,InfoLogLevel=a.LogLevelInfo,DebugLogLevel=a.LogLevelDebug,TraceLogLevel=a.LogLevelTrace})c=a.MakeSearchPattern({'\t','\n','\v','\f','\r',' '},1,-1)d=a.MakeSearchPattern({'sprite=','SPRITE='})e=a.MakeSearchPattern({'0','1','2','3','4','5','6','7','8','9'},1,9)f,g=(function()local fE={'A','B','C','D','E','F','a','b','c','d','e','f','0','1','2','3','4','5','6','7','8','9'}return a.MakeSearchPattern(fE,4,4),a.MakeSearchPattern(fE,8,8)end)()h=a.MakeSearchPattern({'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','0','1','2','3','4','5','6','7','8','9','_','-','.','(',')','!','~','*','\'','%'},1,-1)i={{tag=a.NegativeNumberTag,search=a.NegativeNumberTag,replacement=''},{tag=a.ArrayNumberTag,search=a.ArrayNumberTag,replacement=''},{tag=a.SolidusTag,search=a.SolidusTag,replacement='/'},{tag=a.EscapeSequenceTag,search=a.EscapeSequenceTag..a.EscapeSequenceTag,replacement=a.EscapeSequenceTag}}j={[a.ColorTypeName]={compositionFieldNames=a.ListToMap({'r','g','b','a'}),compositionFieldLength=4,toTableFunc=a.ColorToTable,fromTableFunc=a.ColorFromTable},[a.Vector2TypeName]={compositionFieldNames=a.ListToMap({'x','y'}),compositionFieldLength=2,toTableFunc=a.Vector2ToTable,fromTableFunc=a.Vector2FromTable},[a.Vector3TypeName]={compositionFieldNames=a.ListToMap({'x','y','z'}),compositionFieldLength=3,toTableFunc=a.Vector3ToTable,fromTableFunc=a.Vector3FromTable},[a.Vector4TypeName]={compositionFieldNames=a.ListToMap({'x','y','z','w'}),compositionFieldLength=4,toTableFunc=a.Vector4ToTable,fromTableFunc=a.Vector4FromTable},[a.QuaternionTypeName]={compositionFieldNames=a.ListToMap({'x','y','z','w'}),compositionFieldLength=4,toTableFunc=a.QuaternionToTable,fromTableFunc=a.QuaternionFromTable}}k=a.ListToMap({a.NegativeNumberTag,a.ArrayNumberTag})l=a.LogLevelInfo;n={[a.LogLevelFatal]='FATAL',[a.LogLevelError]='ERROR',[a.LogLevelWarn]='WARN',[a.LogLevelInfo]='INFO',[a.LogLevelDebug]='DEBUG',[a.LogLevelTrace]='TRACE'}o=(function()local dC='eff3a188-bfc7-4b0e-93cb-90fd1adc508c'local dI=_G[dC]if not dI then dI={}_G[dC]=dI end;local fF=dI.clientID;if type(fF)~='string'then fF=tostring(a.RandomUUID())dI.clientID=fF end;return fF end)()return a end;if __CYTANB_EXPORT_MODULE then return setmetatable({},{__call=function(self,fG)return b(fG)end})else return b(_ENV)end end)()if __CYTANB_EXPORT_MODULE then return cytanb end
